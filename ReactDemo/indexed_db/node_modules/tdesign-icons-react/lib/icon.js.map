{"version":3,"file":"icon.js","sources":["../src/icon.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport {\n  createElement,\n  ReactElement,\n  SVGAttributes,\n  CSSProperties,\n  forwardRef,\n  Ref,\n} from 'react';\nimport useSizeProps from './util/use-size-props';\n\nexport interface IconProps extends SVGAttributes<SVGSVGElement> {\n  style?: CSSProperties;\n  className?: string;\n  size?: 'small' | 'medium' | 'large' | string | number;\n}\nexport interface Attrs {\n  [key: string]: any;\n}\nexport interface IconElement {\n  tag: string;\n  attrs: Attrs;\n  children?: IconElement[];\n}\nexport interface IconFulfilledProps extends IconProps {\n  icon: IconElement;\n  id: string;\n}\n\n/**\n * use react createElement to render an IconElement with other props\n */\nfunction render(node: IconElement, id: string, rootProps?: { [key: string]: any }): ReactElement {\n  return createElement(\n    node.tag,\n    {\n      key: id,\n      ...node.attrs,\n      ...rootProps,\n    },\n    (node.children || []).map((child, index) => render(child, `${id}-${node.tag}-${index}`)),\n  );\n}\n\nexport const IconBase = forwardRef((props: IconFulfilledProps, ref: Ref<SVGElement>) => {\n  const {\n    icon, id, className, size, style, ...restProps\n  } = props;\n  const { className: sizeClassName, style: sizeStyle } = useSizeProps(size);\n  const cls = classNames('t-icon', `t-icon-${id}`, className, sizeClassName);\n\n  return render(icon, `${id}`, {\n    ref,\n    className: cls,\n    style: { ...style, ...sizeStyle },\n    ...restProps,\n  });\n});\n"],"names":["node","id","rootProps","createElement","tag","key","attrs","children","map","child","index","render","IconBase","forwardRef","props","ref","icon","className","size","style","restProps","useSizeProps","sizeClassName","sizeStyle","cls","classNames"],"mappings":";;;;;;;;;;;;;;;;;AAgCA,eAAA,CAAgBA,IAAhB,EAAmCC,EAAnC,EAA+CC,SAA/C,EAAiG;sBACxFC,oBACLH,KAAKI;AAEHC,IAAAA,KAAKJ;KACFD,KAAKM,QACLJ,YAEJ,MAAKK,YAAY,EAAjB,EAAqBC,GAArB,CAAyB,UAACC,KAAD,EAAQC,KAAR;AAAA,WAAkBC,OAAOF,iBAAUR,gBAAMD,KAAKI,iBAAOM,OAArD;AAAA,GAAzB;;;IAIQE,wBAAWC,iBAAW,UAACC,KAAD,EAA4BC,GAA5B,EAAqD;MAEpFC,OACEF,MADFE;MAAMf,KACJa,MADIb;MAAIgB,YACRH,MADQG;MAAWC,OACnBJ,MADmBI;MAAMC,QACzBL,MADyBK;MAAUC,2CACnCN;;sBACmDO,6BAAaH;MAAjDI,8BAAXL;MAAiCM,0BAAPJ;;MAC5BK,MAAMC,iBAAW,2BAAoBxB,KAAMgB,WAAWK;SAErDX,OAAOK,gBAASf;AACrBc,IAAAA,KAAAA;AACAE,IAAAA,WAAWO;AACXL,IAAAA,uCAAYA,QAAUI;KACnBH;;;;;"}