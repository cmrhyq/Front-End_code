{"version":3,"file":"trigger.js","sources":["../../../src/color-picker/components/trigger.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { Input } from '../../input';\nimport ColorLib from '../../_common/js/color-picker/color';\nimport { TdColorPickerProps } from '..';\nimport useClassName from '../hooks/useClassNames';\nimport useControlled from '../../hooks/useControlled';\nimport { TdColorContext } from '../interface';\n\nexport interface ColorTriggerProps extends Pick<TdColorPickerProps, 'disabled' | 'inputProps'> {\n  value?: string;\n  onChange?: (v?: string, context?: TdColorContext) => {};\n}\n\nconst ColorPickerTrigger = (props: ColorTriggerProps) => {\n  const baseClassName = useClassName();\n  const { disabled = false, inputProps = { autoWidth: true } } = props;\n\n  const [value, setValue] = useControlled(props, 'value', props.onChange);\n\n  const handleChange = (input: string, ctx: any) => {\n    if (ColorLib.isValid(input)) {\n      setValue(input, ctx);\n    }\n  };\n\n  return (\n    <div className={`${baseClassName}__trigger--default`}>\n      <Input\n        {...inputProps}\n        value={value}\n        disabled={disabled}\n        label={\n          <div className={classNames(`${baseClassName}__trigger--default__color`, `${baseClassName}--bg-alpha`)}>\n            <span className={'color-inner'} style={{ background: value }}></span>\n          </div>\n        }\n        onBlur={handleChange}\n        onChange={(v: string) => setValue(v)}\n      />\n    </div>\n  );\n};\n\nexport default React.memo(ColorPickerTrigger);\n"],"names":["ColorPickerTrigger","props","baseClassName","useClassName","disabled","inputProps","autoWidth","useControlled","onChange","value","setValue","handleChange","input","ctx","ColorLib","isValid","React","createElement","className","Input","label","classNames","style","background","onBlur","v","memo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAMA,kBAAA,GAAqB,SAArBA,kBAAqB,CAACC,KAAD,EAA8B;EACvD,IAAMC,gBAAgBC,aAAa,EAAnC,CAAA;EACM,IAAyDF,eAAAA,GAAAA,KAAzD,CAAEG,QAAF;MAAEA,QAAF,gCAAa,KAAb,GAAA,eAAA;MAAyDH,iBAAAA,GAAAA,KAAzD,CAAoBI,UAApB;AAAA,MAAoBA,UAApB,GAAiC,iBAAA,KAAA,KAAA,CAAA,GAAA;AAAEC,IAAAA,SAAW,EAAA,IAAA;GAA9C,GAAA,iBAAA,CAAA;;EAEA,IAAoBC,cAAAA,GAAAA,cAAcN,OAAO,SAASA,MAAMO,SAAxD;AAAA,MAAA,eAAA,GAAA,cAAA,CAAA,cAAA,EAAA,CAAA,CAAA;AAAA,MAACC,KAAD,GAAA,eAAA,CAAA,CAAA,CAAA;AAAA,MAAQC,QAAR,GAAA,eAAA,CAAA,CAAA,CAAA,CAAA;;EAEA,IAAAC,YAAA,GAAe,SAAfA,YAAe,CAACC,KAAD,EAAgBC,GAAhB,EAA6B;AAC5C,IAAA,IAAAC,KAAA,CAASC,OAAT,CAAiBH,KAAjB,CAAA,EAAyB;AAC3BF,MAAAA,QAAA,CAASE,KAAT,EAAgBC,GAAhB,CAAA,CAAA;AACF,KAAA;GAHI,CAAA;;AAMN,EAAA,sBACGG,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAchB;GAAlB,iBACEc,KAAA,CAAAC,aAAA,CAAAE,KAAA,kCACKd,UADL,CAAA,EAAA,EAAA,EAAA;AAECI,IAAAA,KAAA,EAAAA,KAFD;AAGCL,IAAAA,QAAA,EAAAA,QAHD;AAICgB,IAAAA,sBACGJ,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,MAAAA,SAAW,EAAAG,UAAA,CAAcnB,EAAAA,CAAAA,MAAAA,CAAAA,aAAd,0CAA2DA,aAA3D,EAAA,YAAA,CAAA,CAAA;AAAf,KAAA,iBACEc,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA;AAAKC,MAAAA,SAAW,EAAA,aAAhB;AAA+BI,MAAAA,KAAA,EAAO;AAAEC,QAAAA,UAAA,EAAYd,KAAAA;AAAd,OAAA;AAAtC,KAAA,CADF,CALJ;AASCe,IAAAA,MAAQ,EAAAb,YATT;IAUCH,QAAU,EAAA,kBAACiB,CAAD,EAAA;MAAA,OAAef,QAAA,CAASe,CAAT,CAAf,CAAA;AAAA,KAAA;AAVX,GAAA,CAAA,CADF,CADH,CAAA;AAgBF,CA5BA,CAAA;;AA8BA,mBAAA,aAAeT,KAAA,CAAMU,IAAN,CAAW1B,kBAAX,CAAf;;;;"}