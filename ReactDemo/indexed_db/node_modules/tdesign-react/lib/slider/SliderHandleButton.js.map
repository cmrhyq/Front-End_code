{"version":3,"file":"SliderHandleButton.js","sources":["../../src/slider/SliderHandleButton.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport Tooltip from '../tooltip/Tooltip';\nimport { TdTooltipProps } from '../tooltip/type';\n\ninterface SliderHandleButtonProps {\n  onChange: (event: React.MouseEvent | MouseEvent) => void;\n  classPrefix: string;\n  style: React.CSSProperties;\n  toolTipProps: TdTooltipProps;\n  hideTips: boolean;\n}\n\nconst SliderHandleButton: React.FC<SliderHandleButtonProps> = ({\n  onChange,\n  style,\n  classPrefix,\n  toolTipProps,\n  hideTips,\n}) => {\n  const [popupVisible, setPopupVisible] = useState(false);\n  const [isDragging, toggleIsDragging] = useState(false);\n\n  const onSliderDragging = (e: MouseEvent) => {\n    toggleIsDragging(true);\n    onChange(e);\n  };\n\n  const onSliderDraggingEnd = () => {\n    toggleIsDragging(false);\n    window.removeEventListener('mousemove', onSliderDragging);\n    window.removeEventListener('mouseup', onSliderDraggingEnd);\n    window.removeEventListener('touchmove', onSliderDragging);\n    window.removeEventListener('touchend', onSliderDraggingEnd);\n  };\n\n  const handleSliderMouseDown = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setPopupVisible(true);\n    window.addEventListener('mousemove', onSliderDragging);\n    window.addEventListener('mouseup', onSliderDraggingEnd);\n    window.addEventListener('touchmove', onSliderDragging);\n    window.addEventListener('touchend', onSliderDraggingEnd);\n  };\n\n  const handleSliderEnter = (event: React.MouseEvent) => {\n    event.stopPropagation();\n    setPopupVisible(true);\n  };\n\n  const handleSliderLeave = (event: React.MouseEvent) => {\n    event.stopPropagation();\n    setPopupVisible(false);\n  };\n\n  const handleNode = (\n    <div\n      style={style}\n      className={`${classPrefix}-slider__button-wrapper`}\n      onMouseDown={(e) => handleSliderMouseDown(e)}\n      onMouseEnter={(e) => handleSliderEnter(e)}\n      onMouseLeave={(e) => handleSliderLeave(e)}\n    >\n      <div\n        className={classNames(`${classPrefix}-slider__button`, {\n          [`${classPrefix}-slider__button--dragging`]: isDragging,\n        })}\n      ></div>\n    </div>\n  );\n\n  return hideTips ? (\n    handleNode\n  ) : (\n    <Tooltip visible={popupVisible} placement=\"top\" {...toolTipProps}>\n      {handleNode}\n    </Tooltip>\n  );\n};\n\nexport default SliderHandleButton;\n"],"names":["SliderHandleButton","onChange","style","classPrefix","toolTipProps","hideTips","useState","popupVisible","setPopupVisible","isDragging","toggleIsDragging","onSliderDragging","e","onSliderDraggingEnd","window","removeEventListener","handleSliderMouseDown","stopPropagation","addEventListener","handleSliderEnter","event","handleSliderLeave","handleNode","React","createElement","className","onMouseDown","onMouseEnter","onMouseLeave","classNames","Tooltip","visible","placement"],"mappings":"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"}