{"version":3,"file":"Comment.js","sources":["../../src/comment/Comment.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../hooks/useConfig';\nimport { StyledProps } from '../common';\nimport { TdCommentProps } from './type';\nimport { commentDefaultProps } from './defaultProps';\n\nexport interface CommentProps extends TdCommentProps, StyledProps {}\n\nconst Comment = forwardRef((props: CommentProps, ref: React.Ref<HTMLDivElement>) => {\n  const { actions, author, avatar, content, datetime, reply, quote, className, style } = props;\n\n  const { classPrefix } = useConfig();\n\n  const avatarElement = avatar ? (\n    <div className={`${classPrefix}-comment__avatar`}>\n      {typeof avatar === 'string' ? (\n        <img src={avatar} alt=\"\" className={`${classPrefix}-comment__avatar-image`} />\n      ) : (\n        avatar\n      )}\n    </div>\n  ) : null;\n\n  const authorDatetimeContent = (author || datetime) && (\n    <div className={`${classPrefix}-comment__author`}>\n      {author && <span className={`${classPrefix}-comment__name`}>{author}</span>}\n      {datetime && <span className={`${classPrefix}-comment__time`}>{datetime}</span>}\n    </div>\n  );\n\n  const quoteElement = quote ? <div className={`${classPrefix}-comment__quote`}>{quote}</div> : null;\n\n  const actionsElement =\n    actions && actions.length ? (\n      <ul className={`${classPrefix}-comment__actions`}>\n        {actions.map((action, index) => (\n          <li key={`action-${index}`}>{action}</li>\n        ))}\n      </ul>\n    ) : null;\n\n  const contentElement = (\n    <div className={`${classPrefix}-comment__content`}>\n      {authorDatetimeContent}\n      <div className={`${classPrefix}-comment__detail`}>{content}</div>\n      {quoteElement}\n      {actionsElement}\n    </div>\n  );\n\n  const replyElement = reply ? <div className={classNames(`${classPrefix}-comment__reply`)}>{reply}</div> : null;\n\n  return (\n    <div ref={ref} style={style} className={classNames(`${classPrefix}-comment`, className)}>\n      <div className={`${classPrefix}-comment__inner`}>\n        {avatarElement}\n        {contentElement}\n      </div>\n      {replyElement}\n    </div>\n  );\n});\n\nComment.displayName = 'Comment';\nComment.defaultProps = commentDefaultProps;\n\nexport default Comment;\n"],"names":["Comment","forwardRef","props","ref","actions","author","avatar","content","datetime","reply","quote","className","style","useConfig","classPrefix","avatarElement","React","createElement","src","alt","authorDatetimeContent","quoteElement","actionsElement","length","map","action","index","key","contentElement","replyElement","classNames","displayName","defaultProps","commentDefaultProps"],"mappings":"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"}