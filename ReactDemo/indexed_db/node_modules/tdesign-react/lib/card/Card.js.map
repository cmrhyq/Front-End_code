{"version":3,"file":"Card.js","sources":["../../src/card/Card.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\n\nimport { TdCardProps } from './type';\nimport Loading from '../loading';\nimport { StyledProps } from '../common';\n\nimport useConfig from '../hooks/useConfig';\nimport useCommonClassName from '../_util/useCommonClassName';\nimport { cardDefaultProps } from './defaultProps';\n\nexport interface CardProps extends TdCardProps, StyledProps {}\n\nconst Card = forwardRef((props: CardProps, ref: React.Ref<HTMLDivElement>) => {\n  const {\n    actions,\n    avatar,\n    bordered,\n    children,\n    className,\n    cover,\n    description,\n    footer,\n    header,\n    headerBordered,\n    hoverShadow,\n    loading,\n    shadow,\n    size,\n    style,\n    subtitle,\n    title,\n    theme,\n    status,\n  } = props;\n\n  const { classPrefix } = useConfig();\n  const commonClassNames = useCommonClassName();\n  // 是否为海报风格2\n  const isPoster2 = theme === 'poster2';\n\n  const cardClass = classNames(`${classPrefix}-card`, className, {\n    [commonClassNames.SIZE.small]: size === 'small',\n    [`${classPrefix}-card--bordered`]: bordered,\n    [`${classPrefix}--shadow`]: shadow,\n    [`${classPrefix}-card--shadow-hover`]: hoverShadow,\n  });\n\n  const showHeader =\n    header || title || subtitle || description || avatar || (actions && !isPoster2) || (status && isPoster2);\n\n  const headerClass = classNames({\n    [`${classPrefix}-card__header`]: showHeader,\n    [`${classPrefix}-card__title--bordered`]: headerBordered,\n  });\n\n  const titleClass = classNames({\n    [`${classPrefix}-card__title`]: title,\n  });\n\n  const subtitleClass = classNames({\n    [`${classPrefix}-card__subtitle`]: subtitle,\n  });\n\n  const actionClass = classNames({\n    [`${classPrefix}-card__actions`]: actions,\n  });\n\n  const footerClass = classNames({\n    [`${classPrefix}-card__footer`]: footer,\n  });\n\n  const coverClass = classNames({\n    [`${classPrefix}-card__cover`]: cover,\n  });\n\n  const avatarClass = classNames({\n    [`${classPrefix}-card__avatar`]: avatar,\n  });\n\n  const bodyClass = classNames({\n    [`${classPrefix}-card__body`]: children,\n  });\n\n  const descriptionClass = classNames({\n    [`${classPrefix}-card__description`]: description,\n  });\n\n  const renderTitle = title ? <span className={titleClass}>{title}</span> : null;\n\n  const renderSubtitle = subtitle ? <span className={subtitleClass}>{subtitle}</span> : null;\n\n  const renderDescription = description ? <p className={descriptionClass}>{description}</p> : null;\n\n  const renderAvatar = avatar && <div className={avatarClass}>{avatar}</div>;\n\n  const renderHeaderActions = actions && !isPoster2 && <div className={actionClass}>{actions}</div>;\n  const renderFooterActions = actions && isPoster2 && <div className={actionClass}>{actions}</div>;\n\n  const renderStatus = status && isPoster2 && <div className={actionClass}>{status}</div>;\n\n  const renderHeader = () => {\n    if (header) return <div className={headerClass}>{header}</div>;\n    return (\n      <div className={headerClass}>\n        <div className={`${classPrefix}-card__header-wrapper`}>\n          {renderAvatar}\n          <div>\n            {renderTitle}\n            {renderSubtitle}\n            {renderDescription}\n          </div>\n        </div>\n        {renderHeaderActions}\n        {renderStatus}\n      </div>\n    );\n  };\n\n  const renderCover = cover ? (\n    <div className={coverClass}>{typeof cover === 'string' ? <img src={cover} alt=\"\"></img> : cover}</div>\n  ) : null;\n\n  const renderChildren = children && <div className={bodyClass}>{children}</div>;\n\n  const renderFooter = footer && (\n    <div className={footerClass}>\n      <div className={`${classPrefix}-card__footer-wrapper`}>{footer}</div>\n      {renderFooterActions}\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <Loading>\n        <div className={cardClass}></div>\n      </Loading>\n    );\n  }\n\n  return (\n    <div ref={ref} className={cardClass} style={style}>\n      {showHeader ? renderHeader() : null}\n      {renderCover}\n      {renderChildren}\n      {renderFooter}\n    </div>\n  );\n});\n\nCard.displayName = 'Card';\nCard.defaultProps = cardDefaultProps;\n\nexport default Card;\n"],"names":["Card","forwardRef","props","ref","actions","avatar","bordered","children","className","cover","description","footer","header","headerBordered","hoverShadow","loading","shadow","size","style","subtitle","title","theme","status","useConfig","classPrefix","commonClassNames","useCommonClassName","isPoster2","cardClass","classNames","SIZE","small","showHeader","headerClass","titleClass","subtitleClass","actionClass","footerClass","coverClass","avatarClass","bodyClass","descriptionClass","renderTitle","React","createElement","renderSubtitle","renderDescription","renderAvatar","renderHeaderActions","renderFooterActions","renderStatus","renderHeader","renderCover","src","alt","renderChildren","renderFooter","Loading","displayName","defaultProps","cardDefaultProps"],"mappings":"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"}