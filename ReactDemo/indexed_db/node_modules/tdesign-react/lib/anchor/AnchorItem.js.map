{"version":3,"file":"AnchorItem.js","sources":["../../src/anchor/AnchorItem.tsx"],"sourcesContent":["import React, { FunctionComponent, useContext, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { TdAnchorItemProps } from './type';\nimport useConfig from '../hooks/useConfig';\nimport { StyledProps } from '../common';\nimport { AnchorContext } from './AnchorContext';\nimport { anchorItemDefaultProps } from './defaultProps';\n\nexport interface AnchorItemProps extends TdAnchorItemProps, StyledProps {}\n\nconst AnchorItem: FunctionComponent<AnchorItemProps> = (props) => {\n  const { onClick, activeItem, registerItem, unregisterItem } = useContext(AnchorContext);\n  const { href, title, target, children, className, ...rest } = props;\n\n  const { classPrefix } = useConfig();\n\n  const titleAttr = typeof title === 'string' ? title : null;\n\n  const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n    onClick({ title: titleAttr, href }, e);\n  };\n\n  useEffect(() => {\n    registerItem(href);\n    return () => unregisterItem(href);\n  }, [href, registerItem, unregisterItem]);\n\n  return (\n    <div\n      {...rest}\n      className={classNames(\n        `${classPrefix}-anchor__item`,\n        { [`${classPrefix}-is-active`]: activeItem === href },\n        className,\n      )}\n    >\n      <a\n        href={href}\n        className={classNames(`${classPrefix}-anchor__item-link`)}\n        title={titleAttr}\n        target={target}\n        onClick={(e) => handleClick(e)}\n      >\n        {title}\n      </a>\n      {children}\n    </div>\n  );\n};\n\nAnchorItem.displayName = 'AnchorItem';\nAnchorItem.defaultProps = anchorItemDefaultProps;\n\nexport default AnchorItem;\n"],"names":["AnchorItem","props","useContext","AnchorContext","onClick","activeItem","registerItem","unregisterItem","href","title","target","children","className","rest","useConfig","classPrefix","titleAttr","handleClick","e","useEffect","React","createElement","classNames","displayName","defaultProps","anchorItemDefaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,IAAMA,UAAA,GAAiD,SAAjDA,UAAiD,CAACC,KAAD,EAAW;EAChE,IAA8DC,WAAAA,GAAAA,WAAWC,cAAzE;MAAQC,OAAR,eAAQA,OAAR;MAAiBC,UAAjB,eAAiBA,UAAjB;MAA6BC,YAA7B,eAA6BA,YAA7B;MAA2CC,cAA3C,eAA2CA,cAA3C,CAAA;;AACA,EAAA,IAAQC,IAAR,GAA8DP,KAA9D,CAAQO,IAAR;AAAA,MAAcC,KAAd,GAA8DR,KAA9D,CAAcQ,KAAd;AAAA,MAAqBC,MAArB,GAA8DT,KAA9D,CAAqBS,MAArB;AAAA,MAA6BC,QAA7B,GAA8DV,KAA9D,CAA6BU,QAA7B;AAAA,MAAuCC,SAAvC,GAA8DX,KAA9D,CAAuCW,SAAvC;MAAqDC,IAArD,4BAA8DZ,KAA9D,EAAA,SAAA,CAAA,CAAA;;AAEM,EAAA,IAAA,UAAA,GAAkBa,SAAU,EAA5B;MAAEC,WAAF,cAAEA,WAAF,CAAA;;EAEN,IAAMC,SAAY,GAAA,OAAOP,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoC,IAAtD,CAAA;;AAEM,EAAA,IAAAQ,WAAA,GAAc,SAAdA,WAAc,CAACC,CAAD,EAAsC;AACxDd,IAAAA,OAAA,CAAQ;AAAEK,MAAAA,KAAA,EAAOO,SAAT;AAAoBR,MAAAA,IAAA,EAAAA,IAAAA;KAA5B,EAAoCU,CAApC,CAAA,CAAA;GADI,CAAA;;AAINC,EAAAA,SAAA,CAAU,YAAM;IACdb,YAAA,CAAaE,IAAb,CAAA,CAAA;IACO,OAAA,YAAA;MAAA,OAAMD,eAAeC,KAArB,CAAA;KAAA,CAAA;GAFT,EAGG,CAACA,IAAD,EAAOF,YAAP,EAAqBC,cAArB,CAHH,CAAA,CAAA;AAKA,EAAA,sBACGa,KAAA,CAAAC,aAAA,CAAA,KAAA,kCACKR,IADL,CAAA,EAAA,EAAA,EAAA;IAECD,SAAW,EAAAU,UAAA,CAAA,EAAA,CAAA,MAAA,CACNP,WADM,EAAA,eAAA,CAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,CAAA,MAAA,CAEHA,WAFG,EAAA,YAAA,CAAA,EAEuBV,eAAeG,IAFtC,CAAA,EAGTI,SAHS,CAAA;AAFZ,GAAA,CAAA,iBAQEQ,KAAA,CAAAC,aAAA,CAAA,GAAA,EAAA;AACCb,IAAAA,IAAA,EAAAA,IADD;AAECI,IAAAA,SAAA,EAAWU,UAAW,CAAGP,EAAAA,CAAAA,MAAAA,CAAAA,WAAH,EAFvB,oBAAA,CAAA,CAAA;AAGCN,IAAAA,KAAO,EAAAO,SAHR;AAICN,IAAAA,MAAA,EAAAA,MAJD;IAKCN,OAAS,EAAA,iBAACc,CAAD,EAAA;MAAA,OAAOD,WAAA,CAAYC,CAAZ,CAAP,CAAA;AAAA,KAAA;AALV,GAAA,EAOET,KAPF,CARF,EAiBEE,QAjBF,CADH,CAAA;AAqBF,EAtCA;;AAwCAX,UAAA,CAAWuB,WAAX,GAAyB,YAAzB,CAAA;AACAvB,UAAA,CAAWwB,YAAX,GAA0BC,sBAA1B;;;;"}