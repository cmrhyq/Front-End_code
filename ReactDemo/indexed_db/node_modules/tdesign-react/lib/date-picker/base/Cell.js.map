{"version":3,"file":"Cell.js","sources":["../../../src/date-picker/base/Cell.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../../hooks/useConfig';\nimport { extractTimeObj } from '../../_common/js/date-picker/utils';\n\nexport interface DatePickerCellProps {\n  time?: string;\n  text: [string, number];\n  value: Date;\n  active: boolean;\n  highlight: boolean;\n  disabled: boolean;\n  startOfRange: boolean;\n  endOfRange: boolean;\n  hoverHighlight: boolean;\n  hoverStartOfRange: boolean;\n  hoverEndOfRange: boolean;\n  additional: boolean;\n  weekOfYear: boolean;\n  now: boolean;\n  firstDayOfMonth: boolean;\n  lastDayOfMonth: boolean;\n  onClick: Function;\n  onMouseEnter: Function;\n}\n\nconst DatePickerCell = (props: DatePickerCellProps) => {\n  const { classPrefix } = useConfig();\n\n  const cellClass = classNames(`${classPrefix}-date-picker__cell`, {\n    [`${classPrefix}-date-picker__cell--now`]: props.now,\n    [`${classPrefix}-date-picker__cell--active`]: props.active,\n    [`${classPrefix}-date-picker__cell--disabled`]: props.disabled,\n    [`${classPrefix}-date-picker__cell--highlight`]: props.highlight,\n    [`${classPrefix}-date-picker__cell--hover-highlight`]: props.hoverHighlight,\n    [`${classPrefix}-date-picker__cell--active-start`]: props.startOfRange,\n    [`${classPrefix}-date-picker__cell--active-end`]: props.endOfRange,\n    [`${classPrefix}-date-picker__cell--hover-start`]: props.hoverStartOfRange,\n    [`${classPrefix}-date-picker__cell--hover-end`]: props.hoverEndOfRange,\n    [`${classPrefix}-date-picker__cell--additional`]: props.additional,\n    [`${classPrefix}-date-picker__cell--first-day-of-month`]: props.firstDayOfMonth,\n    [`${classPrefix}-date-picker__cell--last-day-of-month`]: props.lastDayOfMonth,\n    [`${classPrefix}-date-picker__cell--week-of-year`]: props.weekOfYear,\n  });\n\n  function handleClick(e: React.MouseEvent) {\n    if (props.disabled) return;\n    if (props.time) {\n      const { hours, minutes, seconds, milliseconds, meridiem } = extractTimeObj(props.time);\n      // am pm 12小时制转化 24小时制\n      let nextHours = hours;\n      if (/am/i.test(meridiem) && nextHours === 12) nextHours -= 12;\n      if (/pm/i.test(meridiem) && nextHours < 12) nextHours += 12;\n      props.value.setHours(nextHours);\n      props.value.setMinutes(minutes);\n      props.value.setSeconds(seconds);\n      props.value.setMilliseconds(milliseconds);\n    }\n    props.onClick?.(props.value, { e });\n  }\n\n  function handleMouseEnter() {\n    if (props.disabled) return;\n    if (props.time) {\n      const { hours, minutes, seconds, milliseconds, meridiem } = extractTimeObj(props.time);\n      // am pm 12小时制转化 24小时制\n      let nextHours = hours;\n      if (/am/i.test(meridiem) && nextHours === 12) nextHours -= 12;\n      if (/pm/i.test(meridiem) && nextHours < 12) nextHours += 12;\n      props.value.setHours(nextHours);\n      props.value.setMinutes(minutes);\n      props.value.setSeconds(seconds);\n      props.value.setMilliseconds(milliseconds);\n    }\n    props.onMouseEnter?.(props.value);\n  }\n\n  return (\n    <td className={cellClass} onClick={handleClick} onMouseEnter={handleMouseEnter}>\n      <div className={`${classPrefix}-date-picker__cell-inner`}>{props.text}</div>\n    </td>\n  );\n};\n\nDatePickerCell.displayName = 'DatePickerCell';\n\nexport default DatePickerCell;\n"],"names":["DatePickerCell","props","useConfig","classPrefix","cellClass","classNames","now","active","disabled","highlight","hoverHighlight","startOfRange","endOfRange","hoverStartOfRange","hoverEndOfRange","additional","firstDayOfMonth","lastDayOfMonth","weekOfYear","handleClick","e","time","extractTimeObj","hours","minutes","seconds","milliseconds","meridiem","nextHours","test","value","setHours","setMinutes","setSeconds","setMilliseconds","onClick","handleMouseEnter","onMouseEnter","React","createElement","className","text","displayName"],"mappings":"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"}