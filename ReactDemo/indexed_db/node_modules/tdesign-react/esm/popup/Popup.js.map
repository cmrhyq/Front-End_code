{"version":3,"file":"Popup.js","sources":["../../src/popup/Popup.tsx"],"sourcesContent":["import React, { forwardRef, useState, useRef, useMemo, useEffect, useImperativeHandle } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport classNames from 'classnames';\nimport { usePopper } from 'react-popper';\nimport { Placement } from '@popperjs/core';\nimport useControlled from '../hooks/useControlled';\nimport useAnimation from '../_util/useAnimation';\nimport useConfig from '../hooks/useConfig';\nimport { TdPopupProps } from './type';\nimport Portal from '../common/Portal';\nimport useTrigger from './hooks/useTrigger';\nimport { getRefDom } from './utils/ref';\nimport { getTransitionParams } from './utils/transition';\nimport useMutationObserver from '../_util/useMutationObserver';\nimport useWindowSize from '../_util/useWindowSize';\nimport { popupDefaultProps } from './defaultProps';\n\nexport interface PopupProps extends TdPopupProps {\n  // 是否触发展开收起动画，内部下拉式组件使用\n  expandAnimation?: boolean;\n  // 更新内容区域滚动条\n  updateScrollTop?: (content: HTMLDivElement) => void;\n}\n\nexport interface PopupRef {\n  // 获取popper实例\n  getPopper: () => ReturnType<typeof usePopper>;\n  // 获取Popup dom元素\n  getPopupElement: () => HTMLDivElement;\n  // 获取portal dom元素\n  getPortalElement: () => HTMLDivElement;\n}\n\nconst Popup = forwardRef((props: PopupProps, ref: React.RefObject<PopupRef>) => {\n  const {\n    trigger,\n    content,\n    placement,\n    attach,\n    showArrow,\n    destroyOnClose,\n    overlayClassName,\n    overlayInnerClassName,\n    overlayStyle,\n    overlayInnerStyle,\n    triggerElement,\n    children = triggerElement,\n    disabled,\n    zIndex,\n    onScroll,\n    expandAnimation,\n    delay,\n    hideEmptyPopup,\n    popperOptions,\n    updateScrollTop,\n  } = props;\n  const { classPrefix } = useConfig();\n\n  // 全局配置\n  const { keepExpand, keepFade } = useAnimation();\n  const { height: windowHeight, width: windowWidth } = useWindowSize();\n  const [visible, onVisibleChange] = useControlled(props, 'visible', props.onVisibleChange);\n\n  const [popupElement, setPopupElement] = useState(null);\n  const triggerRef = useRef(null); // 记录 trigger 元素\n  const popupRef = useRef(null); // popup dom 元素，css transition 需要用\n  const portalRef = useRef(null); // portal dom 元素\n  const contentRef = useRef(null); // 内容部分\n  const popperRef = useRef(null); // 保存 popper 实例\n\n  // 默认动画时长\n  const DEFAULT_TRANSITION_TIMEOUT = 180;\n\n  // 解析 delay 数据类型\n  const [appearDelay = 0, exitDelay = 0] = useMemo(() => {\n    if (Array.isArray(delay)) return delay;\n    return [delay, delay];\n  }, [delay]);\n\n  // 判断展示浮层\n  const showOverlay = useMemo(() => {\n    if (hideEmptyPopup && !content) return false;\n    return visible || popupElement;\n  }, [hideEmptyPopup, content, visible, popupElement]);\n\n  // 转化 placement\n  const popperPlacement = useMemo(\n    () => placement.replace(/-(left|top)$/, '-start').replace(/-(right|bottom)$/, '-end') as Placement,\n    [placement],\n  );\n\n  const { getTriggerNode, getPopupProps, getTriggerDom } = useTrigger({\n    triggerRef,\n    content,\n    disabled,\n    trigger,\n    visible,\n    onVisibleChange,\n  });\n\n  const triggerNode = getTriggerNode(children);\n\n  // 监听 trigger 节点或内容变化动态更新 popup 定位\n  useMutationObserver(getRefDom(triggerRef), () => {\n    popperRef.current?.update?.();\n  });\n\n  // 窗口尺寸变化时调整位置\n  useEffect(() => {\n    popperRef.current?.update?.();\n  }, [visible, content, windowHeight, windowWidth]);\n\n  // 下拉展开时更新内部滚动条\n  useEffect(() => {\n    if (!triggerRef.current) triggerRef.current = getTriggerDom();\n    visible && updateScrollTop?.(contentRef.current);\n  }, [visible, updateScrollTop, getTriggerDom]);\n\n  function handleExited() {\n    !destroyOnClose && popupElement && (popupElement.style.display = 'none');\n  }\n  function handleEnter() {\n    !destroyOnClose && popupElement && (popupElement.style.display = 'block');\n  }\n\n  popperRef.current = usePopper(getRefDom(triggerRef), popupElement, {\n    placement: popperPlacement,\n    ...popperOptions,\n  });\n  const { styles, attributes } = popperRef.current;\n\n  // 整理浮层样式\n  function getOverlayStyle(overlayStyle: TdPopupProps['overlayStyle']) {\n    if (getRefDom(triggerRef) && popupRef.current && typeof overlayStyle === 'function') {\n      return { ...overlayStyle(getRefDom(triggerRef), popupRef.current) };\n    }\n    return { ...overlayStyle };\n  }\n\n  const overlay = showOverlay && (\n    <CSSTransition\n      appear\n      in={visible}\n      timeout={{\n        appear: DEFAULT_TRANSITION_TIMEOUT + appearDelay,\n        enter: DEFAULT_TRANSITION_TIMEOUT + appearDelay,\n        exit: DEFAULT_TRANSITION_TIMEOUT + exitDelay,\n      }}\n      nodeRef={portalRef}\n      unmountOnExit={destroyOnClose}\n      onEnter={handleEnter}\n      onExited={handleExited}\n    >\n      <Portal triggerNode={getRefDom(triggerRef)} attach={attach} ref={portalRef}>\n        <CSSTransition\n          appear\n          timeout={{\n            appear: appearDelay,\n            enter: appearDelay,\n            exit: exitDelay,\n          }}\n          in={visible}\n          nodeRef={popupRef}\n          {...getTransitionParams({\n            classPrefix,\n            fadeAnimation: keepFade,\n            expandAnimation: expandAnimation && keepExpand,\n          })}\n        >\n          <div\n            ref={(node) => {\n              if (node) {\n                popupRef.current = node;\n                setPopupElement(node);\n              }\n            }}\n            style={{ ...styles.popper, zIndex, ...getOverlayStyle(overlayStyle) }}\n            className={classNames(`${classPrefix}-popup`, overlayClassName)}\n            {...attributes.popper}\n            {...getPopupProps()}\n          >\n            <div\n              ref={contentRef}\n              className={classNames(\n                `${classPrefix}-popup__content`,\n                {\n                  [`${classPrefix}-popup__content--arrow`]: showArrow,\n                },\n                overlayInnerClassName,\n              )}\n              style={getOverlayStyle(overlayInnerStyle)}\n              onScroll={(e) => onScroll?.({ e: e as React.WheelEvent<HTMLDivElement> })}\n            >\n              {showArrow ? <div style={styles.arrow} className={`${classPrefix}-popup__arrow`} /> : null}\n              {content}\n            </div>\n          </div>\n        </CSSTransition>\n      </Portal>\n    </CSSTransition>\n  );\n\n  useImperativeHandle(ref, () => ({\n    getPopper: () => popperRef.current,\n    getPopupElement: () => popupRef.current,\n    getPortalElement: () => portalRef.current,\n  }));\n\n  return (\n    <React.Fragment>\n      {triggerNode}\n      {overlay}\n    </React.Fragment>\n  );\n});\n\nPopup.displayName = 'Popup';\nPopup.defaultProps = popupDefaultProps;\n\nexport default Popup;\n"],"names":["Popup","forwardRef","props","ref","trigger","content","placement","attach","showArrow","destroyOnClose","overlayClassName","overlayInnerClassName","overlayStyle","overlayInnerStyle","triggerElement","children","disabled","zIndex","onScroll","expandAnimation","delay","hideEmptyPopup","popperOptions","updateScrollTop","useConfig","classPrefix","useAnimation","keepExpand","keepFade","useWindowSize","windowHeight","height","windowWidth","width","useControlled","onVisibleChange","visible","useState","popupElement","setPopupElement","triggerRef","useRef","popupRef","portalRef","contentRef","popperRef","DEFAULT_TRANSITION_TIMEOUT","useMemo","Array","isArray","appearDelay","exitDelay","showOverlay","popperPlacement","replace","useTrigger","getTriggerNode","getPopupProps","getTriggerDom","triggerNode","useMutationObserver","getRefDom","current","update","useEffect","handleExited","style","display","handleEnter","usePopper","styles","attributes","getOverlayStyle","overlay","React","createElement","CSSTransition","appear","timeout","enter","exit","nodeRef","unmountOnExit","onEnter","onExited","Portal","getTransitionParams","fadeAnimation","node","popper","className","classNames","e","arrow","useImperativeHandle","getPopper","getPopupElement","getPortalElement","Fragment","displayName","defaultProps","popupDefaultProps"],"mappings":"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"}