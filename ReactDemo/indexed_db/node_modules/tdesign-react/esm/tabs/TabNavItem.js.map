{"version":3,"file":"TabNavItem.js","sources":["../../src/tabs/TabNavItem.tsx"],"sourcesContent":["import React, { MouseEvent, useRef } from 'react';\nimport classNames from 'classnames';\nimport { CloseIcon as TdCloseIcon } from 'tdesign-icons-react';\nimport useRipple from '../_util/useRipple';\nimport { TdTabPanelProps, TdTabsProps } from './type';\nimport noop from '../_util/noop';\nimport { useTabClass } from './useTabClass';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\n\nexport interface TabNavItemProps extends TdTabPanelProps {\n  // 当前 item 是否处于激活态\n  isActive: boolean;\n  // 点击事件\n  onClick: (e: MouseEvent) => void;\n  theme: 'normal' | 'card';\n  placement: string;\n  size?: 'medium' | 'large';\n  index: number;\n  innerRef(ref: HTMLElement): void;\n  onTabRemove: TdTabsProps['onRemove'];\n}\n\nconst TabNavItem: React.FC<TabNavItemProps> = (props) => {\n  const {\n    label,\n    removable,\n    isActive,\n    onClick = noop,\n    theme,\n    placement,\n    onRemove = noop,\n    value,\n    size = 'medium',\n    disabled = false,\n    index,\n    onTabRemove = noop,\n    innerRef,\n  } = props;\n\n  const { CloseIcon } = useGlobalIcon({\n    CloseIcon: TdCloseIcon,\n  });\n\n  const isCard = theme === 'card';\n\n  // 样式变量和常量定义\n  const { tdTabsClassGenerator, tdClassGenerator, tdSizeClassGenerator } = useTabClass();\n  const rippleRef = useRef();\n  useRipple(rippleRef);\n\n  return (\n    <div\n      ref={innerRef}\n      onClick={disabled ? noop : onClick}\n      className={classNames(\n        tdTabsClassGenerator('nav-item'),\n        isCard ? tdTabsClassGenerator('nav--card') : '',\n        tdSizeClassGenerator(size),\n        isActive ? tdClassGenerator('is-active') : '',\n        tdClassGenerator(`is-${placement}`),\n        disabled ? tdClassGenerator('is-disabled') : '',\n      )}\n    >\n      {/* 根据新的 dom 结构和样式进行改动，卡片类型情况下不需要 nav-item-wrapper 这个 div */}\n      {isCard ? (\n        <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n      ) : (\n        <div ref={rippleRef} className={classNames(tdTabsClassGenerator('nav-item-wrapper'))}>\n          <span className={classNames(tdTabsClassGenerator('nav-item-text-wrapper'))}>{label}</span>\n        </div>\n      )}\n      {removable ? (\n        <CloseIcon\n          className={classNames('remove-btn')}\n          onClick={(e) => {\n            if (disabled) {\n              return;\n            }\n            e.stopPropagation();\n            onRemove({ value, e });\n            onTabRemove({ value, e, index });\n          }}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default TabNavItem;\n"],"names":["TabNavItem","props","label","removable","isActive","onClick","noop","theme","placement","onRemove","value","size","disabled","index","onTabRemove","innerRef","useGlobalIcon","CloseIcon","TdCloseIcon","isCard","useTabClass","tdTabsClassGenerator","tdClassGenerator","tdSizeClassGenerator","rippleRef","useRef","useRipple","React","createElement","ref","className","classNames","e","stopPropagation"],"mappings":"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"}