{"version":3,"file":"useScale.js","sources":["../../../src/image-viewer/hooks/useScale.ts"],"sourcesContent":["// 缩放控制\nimport { useCallback, useState } from 'react';\n\nconst useScale = (imageScale) => {\n  const [scale, setScale] = useState(1);\n  const onZoom = useCallback(() => {\n    setScale((scale) => {\n      const newScale = scale + imageScale.step;\n      if (newScale < imageScale.min) return imageScale.min;\n      if (newScale > imageScale.max) return imageScale.max;\n      return newScale;\n    });\n  }, [imageScale]);\n\n  const onZoomOut = useCallback(() => {\n    setScale((scale) => {\n      const newScale = scale - imageScale.step;\n      if (newScale < imageScale.min) return imageScale.min;\n      if (newScale > imageScale.max) return imageScale.max;\n      return newScale;\n    });\n  }, [imageScale]);\n\n  const onResetScale = useCallback(() => setScale(1), []);\n\n  return {\n    scale,\n    onZoom,\n    onZoomOut,\n    onResetScale,\n  };\n};\n\nexport default useScale;\n"],"names":["useScale","imageScale","useState","scale","setScale","onZoom","useCallback","newScale","step","min","max","onZoomOut","onResetScale"],"mappings":";;;;;;;;;;AAGA,IAAMA,QAAA,GAAW,SAAXA,QAAW,CAACC,UAAD,EAAgB;EAC/B,IAA0BC,SAAAA,GAAAA,SAAS,EAAnC;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAAOC,KAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAcC,QAAd,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;AACM,EAAA,IAAAC,MAAA,GAASC,YAAY,YAAM;IAC/BF,QAAA,CAAS,UAACD,MAAD,EAAW;AACZ,MAAA,IAAAI,QAAA,GAAWJ,SAAQF,UAAW,CAAAO,IAA9B,CAAA;MACN,IAAID,WAAWN,UAAW,CAAAQ,GAA1B,EAA+B,OAAOR,UAAW,CAAAQ,GAAlB,CAAA;MAC/B,IAAIF,WAAWN,UAAW,CAAAS,GAA1B,EAA+B,OAAOT,UAAW,CAAAS,GAAlB,CAAA;AACxB,MAAA,OAAAH,QAAA,CAAA;AACR,KALD,CAAA,CAAA;AAMF,KAAG,CAACN,UAAD,EAPG,CAAA;AASA,EAAA,IAAAU,SAAA,GAAYL,YAAY,YAAM;IAClCF,QAAA,CAAS,UAACD,MAAD,EAAW;AACZ,MAAA,IAAAI,QAAA,GAAWJ,SAAQF,UAAW,CAAAO,IAA9B,CAAA;MACN,IAAID,WAAWN,UAAW,CAAAQ,GAA1B,EAA+B,OAAOR,UAAW,CAAAQ,GAAlB,CAAA;MAC/B,IAAIF,WAAWN,UAAW,CAAAS,GAA1B,EAA+B,OAAOT,UAAW,CAAAS,GAAlB,CAAA;AACxB,MAAA,OAAAH,QAAA,CAAA;AACR,KALD,CAAA,CAAA;AAMF,KAAG,CAACN,UAAD,EAPG,CAAA;EASN,IAAMW,eAAeN,WAAY,CAAA,YAAA;IAAA,OAAMF,SAAS,EAAf,CAAA;GAAA,EAAmB,EAAnB,CAAjC,CAAA;EAEO,OAAA;AACLD,IAAAA,KAAA,EAAAA,KADK;AAELE,IAAAA,MAAA,EAAAA,MAFK;AAGLM,IAAAA,SAAA,EAAAA,SAHK;AAILC,IAAAA,YAAA,EAAAA,YAAAA;GAJK,CAAA;AAMT;;;;"}