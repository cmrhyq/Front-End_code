{"version":3,"file":"useWindowSize.js","sources":["../../src/_util/useWindowSize.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport debounce from 'lodash/debounce';\n\nexport interface WindowSize {\n  width: number;\n  height: number;\n}\n\nfunction useWindowSize(): WindowSize {\n  const validWindow = typeof window === 'object';\n\n  const getSize = useCallback(\n    () => ({\n      width: validWindow ? window.innerWidth : undefined,\n      height: validWindow ? window.innerHeight : undefined,\n    }),\n    [validWindow],\n  );\n\n  const [size, setSize] = useState(getSize());\n\n  useEffect(() => {\n    function handleResize() {\n      setSize(getSize());\n    }\n\n    const debounceResize = debounce(handleResize, 400);\n    if (validWindow) {\n      window.addEventListener('resize', debounceResize);\n\n      return () => {\n        window.removeEventListener('resize', debounceResize);\n        debounceResize.cancel();\n      };\n    }\n  }, [getSize, validWindow]);\n\n  return size;\n}\n\nexport default useWindowSize;\n"],"names":["useWindowSize","validWindow","window","getSize","useCallback","width","innerWidth","height","innerHeight","useState","size","setSize","useEffect","handleResize","debounceResize","debounce","addEventListener","removeEventListener","cancel"],"mappings":";;;;;;;;;;;;;;;;;;;AAQA,SAASA,aAAT,GAAqC;AAC7B,EAAA,IAAAC,WAAA,GAAc,CAAA,OAAOC,MAAP,KAAOA,WAAAA,GAAAA,WAAAA,GAAAA,OAAAA,CAAAA,MAAP,OAAkB,QAAhC,CAAA;EAEN,IAAMC,OAAU,GAAAC,WAAA,CACd,YAAA;IAAA,OAAO;MACLC,KAAA,EAAOJ,WAAc,GAAAC,MAAA,CAAOI,UAAP,GAAoB,KAAA,CADpC;AAELC,MAAAA,MAAA,EAAQN,WAAc,GAAAC,MAAA,CAAOM,WAAP,GAAqB,KAAA,CAAA;KAF7C,CAAA;AAAA,GADc,EAKd,CAACP,WAAD,CALc,CAAhB,CAAA;;AAQA,EAAA,IAAA,SAAA,GAAwBQ,QAAA,CAASN,SAAT,CAAxB;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAAOO,IAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAaC,OAAb,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;AAEAC,EAAAA,SAAA,CAAU,YAAM;AACd,IAAA,SAASC,YAAT,GAAwB;MACtBF,OAAA,CAAQR,SAAR,CAAA,CAAA;AACF,KAAA;;AAEM,IAAA,IAAAW,cAAA,GAAiBC,UAAS,CAAAF,YAAA,EAAc,GAAd,CAA1B,CAAA;;AACN,IAAA,IAAIZ,WAAJ,EAAiB;AACRC,MAAAA,MAAA,CAAAc,gBAAA,CAAiB,QAAjB,EAA2BF,cAA3B,CAAA,CAAA;AAEP,MAAA,OAAO,YAAM;AACJZ,QAAAA,MAAA,CAAAe,mBAAA,CAAoB,QAApB,EAA8BH,cAA9B,CAAA,CAAA;AACPA,QAAAA,cAAA,CAAeI,MAAf,EAAA,CAAA;OAFF,CAAA;AAIF,KAAA;AACC,GAdH,EAcG,CAACf,OAAD,EAAUF,WAAV,CAdH,CAAA,CAAA;AAgBO,EAAA,OAAAS,IAAA,CAAA;AACT;;;;"}