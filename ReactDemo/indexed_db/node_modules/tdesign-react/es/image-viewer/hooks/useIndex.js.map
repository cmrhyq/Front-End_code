{"version":3,"file":"useIndex.js","sources":["../../../src/image-viewer/hooks/useIndex.ts"],"sourcesContent":["import { useCallback } from 'react';\nimport useControlled from '../../hooks/useControlled';\n\n/** ImageViewerModel hooks * */\n// 选中下标控制\nconst useIndex = (resProps, images) => {\n  const [index, setIndex] = useControlled(resProps, 'index', resProps.onIndexChange);\n\n  const next = useCallback(() => {\n    const newIndex = index + 1;\n    if (newIndex >= images.length) return index;\n    setIndex(newIndex, { trigger: 'next' });\n  }, [setIndex, index, images.length]);\n\n  const prev = useCallback(() => {\n    const newIndex = index - 1 > 0 ? index - 1 : 0;\n    setIndex(newIndex, { trigger: 'prev' });\n  }, [index, setIndex]);\n\n  return {\n    index,\n    next,\n    prev,\n    setIndex,\n  };\n};\n\nexport default useIndex;\n"],"names":["useIndex","resProps","images","useControlled","onIndexChange","index","setIndex","next","useCallback","newIndex","length","trigger","prev"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAKMA,IAAAA,QAAA,GAAW,SAAXA,QAAW,CAACC,QAAD,EAAWC,MAAX,EAAsB;EAC/B,IAAoBC,cAAAA,GAAAA,cAAcF,UAAU,SAASA,SAASG,cAA9D;AAAA,MAAA,eAAA,GAAA,cAAA,CAAA,cAAA,EAAA,CAAA,CAAA;AAAA,MAACC,KAAD,GAAA,eAAA,CAAA,CAAA,CAAA;AAAA,MAAQC,QAAR,GAAA,eAAA,CAAA,CAAA,CAAA,CAAA;;AAEA,EAAA,IAAAC,IAAA,GAAOC,YAAY,YAAM;AAC7B,IAAA,IAAMC,WAAWJ,KAAQ,GAAA,CAAzB,CAAA;AACA,IAAA,IAAII,YAAYP,MAAO,CAAAQ,MAAvB,EAAsC,OAAAL,KAAA,CAAA;IACtCC,QAAA,CAASG,QAAT,EAAmB;AAAEE,MAAAA,OAAS,EAAA,MAAA;AAAX,KAAnB,CAAA,CAAA;KACC,CAACL,QAAD,EAAWD,KAAX,EAAkBH,MAAA,CAAOQ,MAAzB,EAJG,CAAA;AAMA,EAAA,IAAAE,IAAA,GAAOJ,YAAY,YAAM;AAC7B,IAAA,IAAMC,QAAW,GAAAJ,KAAA,GAAQ,CAAR,GAAY,CAAZ,GAAgBA,QAAQ,CAAxB,GAA4B,CAA7C,CAAA;IACAC,QAAA,CAASG,QAAT,EAAmB;AAAEE,MAAAA,OAAS,EAAA,MAAA;AAAX,KAAnB,CAAA,CAAA;AACC,KAAA,CAACN,KAAD,EAAQC,QAAR,EAHG,CAAA;EAKC,OAAA;AACLD,IAAAA,KAAA,EAAAA,KADK;AAELE,IAAAA,IAAA,EAAAA,IAFK;AAGLK,IAAAA,IAAA,EAAAA,IAHK;AAILN,IAAAA,QAAA,EAAAA,QAAAA;GAJK,CAAA;AAMT;;;;"}