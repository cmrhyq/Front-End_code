{"version":3,"file":"dep-3789a942.js","sources":["../../src/image-viewer/ImageViewerMini.tsx","../../src/image-viewer/ImageViewerModel.tsx"],"sourcesContent":["import React, { KeyboardEvent, MouseEvent } from 'react';\nimport { CloseIcon as TdCloseIcon } from 'tdesign-icons-react';\nimport { TNode } from 'tdesign-react/common';\nimport Dialog from '../dialog';\nimport { ImageInfo, ImageScale, ImageViewerScale } from './type';\nimport { ImageModelItem, ImageViewerUtils } from './ImageViewerModel';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\n\nexport interface ImageModelMiniProps {\n  visible: boolean;\n  title?: TNode;\n  draggable: boolean;\n  index: number;\n  scale: number;\n  mirror: number;\n  images: ImageInfo[];\n  onClose: (context: { trigger: 'close-btn' | 'overlay' | 'esc'; e: MouseEvent<HTMLElement> | KeyboardEvent }) => void;\n  onScroll: (e: any) => void;\n  imageScale: ImageScale;\n  viewerScale: ImageViewerScale;\n  rotateZ: number;\n  currentImage: ImageInfo;\n  prev: () => void;\n  next: () => void;\n  onMirror: () => void;\n  onZoom: () => void;\n  onZoomOut: () => void;\n  onReset: () => void;\n  onRotate: (red: number) => void;\n  zIndex: number;\n}\n\nexport const ImageModelMiniContent = (props: ImageModelMiniProps) => {\n  const { classPrefix } = useConfig();\n\n  return (\n    <div className={`${classPrefix}-image-viewer-mini__content`}>\n      <ImageModelItem\n        rotateZ={props.rotateZ}\n        scale={props.scale}\n        mirror={props.mirror}\n        src={props.currentImage.mainImage}\n        preSrc={props.currentImage.thumbnail}\n      />\n    </div>\n  );\n};\n\nconst DIALOG_CSS_PADDING = {\n  padding: 0,\n};\n\nexport const ImageModelMini = (props: ImageModelMiniProps) => {\n  const {\n    visible,\n    title,\n    index,\n    images,\n    scale,\n    currentImage,\n    draggable,\n    onZoomOut,\n    onZoom,\n    onClose,\n    onRotate,\n    onMirror,\n    onReset,\n  } = props;\n\n  const { classPrefix } = useConfig();\n  const { CloseIcon } = useGlobalIcon({ CloseIcon: TdCloseIcon });\n\n  const header = (\n    <div className={`${classPrefix}-image-viewer__mini--header`}>\n      <span>{title}</span>\n      {`${index + 1}/${images.length}`}\n      <span className={`${classPrefix}-image-viewer__mini--close`}>\n        <CloseIcon size=\"1.5rem\" onClick={(e: MouseEvent<any>) => onClose({ trigger: 'close-btn', e })} />\n      </span>\n    </div>\n  );\n\n  const footer = (\n    <div className={`${classPrefix}-image-viewer-mini__footer`}>\n      <ImageViewerUtils\n        onZoom={onZoom}\n        onZoomOut={onZoomOut}\n        scale={scale}\n        currentImage={currentImage}\n        onRotate={onRotate}\n        onMirror={onMirror}\n        onReset={onReset}\n      />\n    </div>\n  );\n\n  return (\n    <Dialog\n      className={`${classPrefix}-image-viewer__dialog`}\n      draggable={draggable}\n      visible={visible}\n      width=\"min(90vw, 1000px)\"\n      placement=\"center\"\n      mode=\"modeless\"\n      cancelBtn={null}\n      confirmBtn={null}\n      closeBtn={false}\n      header={header}\n      footer={footer}\n      onClose={onClose}\n      style={DIALOG_CSS_PADDING}\n    >\n      <ImageModelMiniContent {...props} />\n    </Dialog>\n  );\n};\n","import React, { useState, useEffect, useCallback, WheelEventHandler, MouseEvent, KeyboardEvent } from 'react';\nimport isArray from 'lodash/isArray';\nimport isFunction from 'lodash/isFunction';\nimport {\n  ImageErrorIcon as TdImageErrorIcon,\n  ImageIcon as TdImageIcon,\n  MirrorIcon as TdMirrorIcon,\n  RotationIcon as TdRotationIcon,\n} from 'tdesign-icons-react';\nimport classNames from 'classnames';\nimport Tooltip from '../tooltip';\nimport useConfig from '../hooks/useConfig';\nimport { TNode } from '../common';\nimport { downloadFile } from './utils';\nimport { ImageInfo, ImageScale, ImageViewerScale } from './type';\nimport { ImageModelMini } from './ImageViewerMini';\nimport useMirror from './hooks/useMirror';\nimport usePosition from './hooks/usePosition';\nimport useIndex from './hooks/useIndex';\nimport useRotate from './hooks/useRotate';\nimport useScale from './hooks/useScale';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport useIconMap from './hooks/useIconMap';\n\nconst ImageError = () => {\n  const { classPrefix } = useConfig();\n  const { ImageErrorIcon } = useGlobalIcon({ ImageErrorIcon: TdImageErrorIcon });\n  return (\n    <div className={`${classPrefix}-image-viewer__img-error`}>\n      {/* 脱离文档流 */}\n      <div className={`${classPrefix}-image-viewer__img-error--content`}>\n        <ImageErrorIcon size=\"4em\" />\n        <div className={`${classPrefix}-image-viewer__img-error--text`}>图片加载失败，可尝试重新加载</div>\n      </div>\n    </div>\n  );\n};\n\ninterface ImageModelItemProps {\n  rotateZ: number;\n  scale: number;\n  mirror: number;\n  src: string;\n  preSrc?: string;\n}\n\n// 单个弹窗实例\nexport const ImageModelItem = ({ rotateZ, scale, src, preSrc, mirror }: ImageModelItemProps) => {\n  const { classPrefix } = useConfig();\n\n  const [position, onMouseDown] = usePosition({ initPosition: [0, 0] });\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n\n  const imgStyle = {\n    transform: `rotateZ(${rotateZ}deg) scale(${scale})`,\n    display: !preSrc || loaded ? 'block' : 'none',\n  };\n  const preImgStyle = { transform: `rotateZ(${rotateZ}deg) scale(${scale})`, display: !loaded ? 'block' : 'none' };\n  const boxStyle = { transform: `translate(${position[0]}px, ${position[1]}px) scale(${mirror}, 1)` };\n\n  useEffect(() => {\n    setError(false);\n  }, [src]);\n\n  return (\n    <div className={`${classPrefix}-image-viewer__modal--pic`}>\n      <div className={`${classPrefix}-image-viewer__modal--box`} style={boxStyle}>\n        {error && <ImageError />}\n        {!error && !!preSrc && (\n          <img\n            className={`${classPrefix}-image-viewer__modal--image`}\n            onMouseDown={(event) => {\n              event.stopPropagation();\n              onMouseDown(event);\n            }}\n            src={preSrc}\n            style={preImgStyle}\n            data-testid=\"img-drag\"\n            alt=\"image\"\n            draggable=\"false\"\n          />\n        )}\n        {!error && (\n          <img\n            className={`${classPrefix}-image-viewer__modal--image`}\n            onMouseDown={(event) => {\n              event.stopPropagation();\n              onMouseDown(event);\n            }}\n            src={src}\n            onLoad={() => setLoaded(true)}\n            onError={() => setError(true)}\n            style={imgStyle}\n            data-testid=\"img-drag\"\n            alt=\"image\"\n            draggable=\"false\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 旋转角度单位\nconst ROTATE_COUNT = 90;\n\ninterface ImageModelIconProps {\n  name?: string;\n  size?: string;\n  label?: string;\n  className?: string;\n  disabled?: boolean;\n  isRange?: boolean;\n  onClick?: (e: MouseEvent<HTMLElement>) => void;\n}\n\nconst ImageModelIcon = ({ onClick, className, disabled, isRange, name, label, size = '3em' }: ImageModelIconProps) => {\n  const { classPrefix } = useConfig();\n\n  const Icons = useIconMap();\n\n  const Icon = Icons[name];\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer__modal--icon`, className, {\n        [`${classPrefix}-is-disabled`]: disabled,\n      })}\n      onClick={onClick}\n    >\n      {name && <Icon size={size} className={isRange ? 'is-range' : null} />}\n      {label && <span className={`${classPrefix}-image-viewer__modal--icon-label`}>{label}</span>}\n    </div>\n  );\n};\n\ninterface ImageViewerUtilsProps {\n  scale: number;\n  currentImage: ImageInfo;\n  onRotate: (ROTATE_COUNT: number) => void;\n  onZoom: () => void;\n  onZoomOut: () => void;\n  onMirror: () => void;\n  onReset: () => void;\n}\n\nexport const ImageViewerUtils = ({\n  onZoom,\n  scale,\n  onZoomOut,\n  currentImage,\n  onRotate,\n  onMirror,\n  onReset,\n}: ImageViewerUtilsProps) => {\n  const { classPrefix } = useConfig();\n  const { MirrorIcon, RotationIcon, ImageIcon } = useGlobalIcon({\n    MirrorIcon: TdMirrorIcon,\n    RotationIcon: TdRotationIcon,\n    ImageIcon: TdImageIcon,\n  });\n\n  return (\n    <div className={`${classPrefix}-image-viewer__utils`}>\n      <div className={`${classPrefix}-image-viewer__utils--content`}>\n        <Tooltip\n          overlayClassName={`${classPrefix}-image-viewer__utils--tip`}\n          content=\"镜像\"\n          destroyOnClose\n          placement=\"top\"\n          showArrow\n          theme=\"default\"\n        >\n          <div className={`${classPrefix}-image-viewer__modal--icon`}>\n            <MirrorIcon size=\"medium\" onClick={onMirror} />\n          </div>\n        </Tooltip>\n        <Tooltip\n          overlayClassName={`${classPrefix}-image-viewer__utils--tip`}\n          content=\"旋转\"\n          destroyOnClose\n          placement=\"top\"\n          showArrow\n          theme=\"default\"\n        >\n          <div className={`${classPrefix}-image-viewer__modal--icon`}>\n            <RotationIcon size=\"medium\" onClick={() => onRotate(-ROTATE_COUNT)} />\n          </div>\n        </Tooltip>\n        <ImageModelIcon size=\"medium\" name=\"zoom-out\" onClick={onZoomOut} />\n        <ImageModelIcon\n          className={`${classPrefix}-image-viewer__utils--scale`}\n          size=\"medium\"\n          label={`${scale * 100}%`}\n        />\n        <ImageModelIcon size=\"medium\" name=\"zoom-in\" onClick={onZoom} />\n        <Tooltip\n          overlayClassName={`${classPrefix}-image-viewer__utils--tip`}\n          content=\"原始大小\"\n          destroyOnClose\n          placement=\"top\"\n          showArrow\n          theme=\"default\"\n        >\n          <div className={`${classPrefix}-image-viewer__modal--icon`}>\n            <ImageIcon\n              size=\"medium\"\n              name=\"image\"\n              onClick={() => {\n                onReset();\n              }}\n            />\n          </div>\n        </Tooltip>\n        {currentImage.download && (\n          <ImageModelIcon\n            size=\"medium\"\n            name=\"download\"\n            onClick={() => {\n              downloadFile(currentImage.mainImage);\n            }}\n          />\n        )}\n      </div>\n      {/* <IconFont size=\"3em\" name=\"page-last\" onClick={() => onRotate(ROTATE_COUNT)} /> */}\n    </div>\n  );\n};\n\ntype ImageViewerHeaderProps = {\n  onImgClick: (index: number) => void;\n  images: ImageInfo[];\n  currentIndex: number;\n};\n\nconst ImageViewerHeader = (props: ImageViewerHeaderProps) => {\n  const { classPrefix } = useConfig();\n  const { images, currentIndex, onImgClick } = props;\n\n  const [isExpand, setIsExpand] = useState(true);\n\n  const transStyle = { transform: `translateX(-${currentIndex * 84}px)` };\n\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer__modal-header`, {\n        [`${classPrefix}-is-show`]: isExpand,\n      })}\n    >\n      <ImageModelIcon\n        size=\"20px\"\n        name=\"chevron-down\"\n        className={`${classPrefix}-image-viewer__header--pre__bt`}\n        onClick={() => setIsExpand(!isExpand)}\n      />\n      <div className={`${classPrefix}-image-viewer__header--prev`}>\n        <div className={`${classPrefix}-image-viewer__bokeh--left`} />\n        <div className={`${classPrefix}-image-viewer__bokeh--right`} />\n        <div className={`${classPrefix}-image-viewer__header--trans`} style={transStyle}>\n          {images.map((image, index) => (\n            <div\n              key={index}\n              className={classNames(`${classPrefix}-image-viewer__header--box`, {\n                [`${classPrefix}-is-active`]: index === currentIndex,\n              })}\n              onClick={() => onImgClick(index)}\n            >\n              <img\n                alt=\"\"\n                src={image.thumbnail || image.mainImage}\n                className={`${classPrefix}-image-viewer__header--img`}\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\ninterface ImageModalProps {\n  title?: TNode;\n  visible: boolean;\n  closeOnOverlay: boolean;\n  showOverlay: boolean;\n  index: number;\n  defaultIndex?: number;\n  images: ImageInfo[];\n  onClose: (context: { trigger: 'close-btn' | 'overlay' | 'esc'; e: MouseEvent<HTMLElement> | KeyboardEvent }) => void;\n  onOpen: () => void;\n  imageScale: ImageScale;\n  viewerScale: ImageViewerScale;\n  zIndex: number;\n  isMini: boolean;\n  draggable: boolean;\n  closeBtn: boolean | TNode;\n  onIndexChange?: (index: number, context: { trigger: 'prev' | 'next' }) => void;\n}\n\n// 弹窗基础组件\nexport const ImageModal = (props: ImageModalProps) => {\n  const {\n    closeOnOverlay,\n    showOverlay = true,\n    zIndex,\n    images,\n    isMini,\n    imageScale,\n    viewerScale,\n    closeBtn,\n    draggable,\n    onOpen,\n    onClose,\n    visible,\n    title,\n    ...resProps\n  } = props;\n  const { classPrefix } = useConfig();\n  if (resProps.index === undefined) delete resProps.index;\n  const { index, next, prev, setIndex } = useIndex(resProps, images);\n  const { rotateZ, onResetRotate, onRotate } = useRotate();\n  const { scale, onZoom, onZoomOut, onResetScale } = useScale(imageScale);\n  const { mirror, onResetMirror, onMirror } = useMirror();\n\n  const onReset = useCallback(() => {\n    onResetScale();\n    onResetRotate();\n    onResetMirror();\n  }, [onResetMirror, onResetScale, onResetRotate]);\n\n  const onScroll: WheelEventHandler<HTMLDivElement> = useCallback(\n    (e) => {\n      const { deltaY } = e;\n      deltaY > 0 ? onZoom() : onZoomOut();\n    },\n    [onZoom, onZoomOut],\n  );\n\n  const onKeyDown = useCallback(\n    (event) => {\n      switch (event.code) {\n        case 'ArrowRight':\n          return next();\n        case 'ArrowLeft':\n          return prev();\n        case 'ArrowUp':\n          return onZoom();\n        case 'ArrowDown':\n          return onZoomOut();\n        case 'Escape':\n          return onClose?.({ trigger: 'esc', e: event });\n      }\n    },\n    [next, onClose, prev, onZoom, onZoomOut],\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [onKeyDown]);\n\n  useEffect(() => {\n    onReset();\n  }, [index, onReset]);\n\n  if (!isArray(images) || images.length < 1) return null;\n\n  const currentImage: ImageInfo = images[index];\n\n  if (isMini) {\n    return (\n      <ImageModelMini\n        visible={visible}\n        draggable={draggable}\n        index={index}\n        images={images}\n        imageScale={imageScale}\n        viewerScale={viewerScale}\n        rotateZ={rotateZ}\n        zIndex={zIndex}\n        currentImage={currentImage}\n        prev={prev}\n        next={next}\n        mirror={mirror}\n        scale={scale}\n        title={title}\n        onMirror={onMirror}\n        onZoom={onZoom}\n        onClose={onClose}\n        onZoomOut={onZoomOut}\n        onScroll={onScroll}\n        onReset={onReset}\n        onRotate={onRotate}\n      />\n    );\n  }\n\n  // boolean控制显示，tnode直接展示\n  let closeNode: TNode = closeBtn;\n  if (closeBtn === true) {\n    closeNode = (\n      <ImageModelIcon\n        name=\"close\"\n        size=\"24px\"\n        className={`${classPrefix}-image-viewer__modal--close-bt `}\n        onClick={(e: MouseEvent<HTMLElement>) => onClose && onClose({ trigger: 'close-btn', e })}\n      />\n    );\n  } else if (isFunction(closeBtn)) closeNode = closeBtn({ onClose, onOpen });\n\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer-preview-image`, {\n        [`${classPrefix}-is-hide`]: !visible,\n      })}\n      onWheel={onScroll}\n      style={{ zIndex }}\n    >\n      {!!showOverlay && (\n        <div\n          className={`${classPrefix}-image-viewer__modal--mask`}\n          onClick={(e: MouseEvent<HTMLElement>) => closeOnOverlay && onClose?.({ trigger: 'overlay', e })}\n        />\n      )}\n      {images.length > 1 && (\n        <>\n          <ImageViewerHeader images={images} currentIndex={index} onImgClick={setIndex} />\n          <div className={`${classPrefix}-image-viewer__modal--index`}>\n            <span>{title}</span>\n            {`${index + 1}/${images.length}`}\n          </div>\n          <ImageModelIcon\n            size=\"24px\"\n            name=\"chevron-left\"\n            className={`${classPrefix}-image-viewer__modal--prev-bt`}\n            onClick={prev}\n            disabled={index <= 0}\n          />\n          <ImageModelIcon\n            size=\"24px\"\n            name=\"chevron-right\"\n            className={`${classPrefix}-image-viewer__modal--next-bt`}\n            onClick={next}\n            disabled={index >= images.length - 1}\n          />\n        </>\n      )}\n      <ImageViewerUtils\n        onZoom={onZoom}\n        onZoomOut={onZoomOut}\n        scale={scale}\n        currentImage={currentImage}\n        onRotate={onRotate}\n        onMirror={onMirror}\n        onReset={onReset}\n      />\n      {closeNode}\n      <ImageModelItem\n        scale={scale}\n        rotateZ={rotateZ}\n        mirror={mirror}\n        preSrc={currentImage.thumbnail}\n        src={currentImage.mainImage}\n      />\n    </div>\n  );\n};\n"],"names":["ImageModelMiniContent","props","useConfig","classPrefix","React","createElement","className","ImageModelItem","rotateZ","scale","mirror","src","currentImage","mainImage","preSrc","thumbnail","DIALOG_CSS_PADDING","padding","ImageModelMini","visible","title","index","images","draggable","onZoomOut","onZoom","onClose","onRotate","onMirror","onReset","useGlobalIcon","CloseIcon","TdCloseIcon","header","length","size","onClick","e","trigger","footer","ImageViewerUtils","Dialog","width","placement","mode","cancelBtn","confirmBtn","closeBtn","style","ImageError","ImageErrorIcon","TdImageErrorIcon","usePosition","initPosition","position","onMouseDown","useState","loaded","setLoaded","error","setError","imgStyle","transform","display","preImgStyle","boxStyle","useEffect","event","stopPropagation","alt","onLoad","onError","ROTATE_COUNT","ImageModelIcon","disabled","isRange","name","label","Icons","useIconMap","Icon","classNames","MirrorIcon","TdMirrorIcon","RotationIcon","TdRotationIcon","ImageIcon","TdImageIcon","Tooltip","overlayClassName","content","destroyOnClose","showArrow","theme","download","downloadFile","ImageViewerHeader","currentIndex","onImgClick","isExpand","setIsExpand","transStyle","map","image","key","ImageModal","closeOnOverlay","showOverlay","zIndex","isMini","imageScale","viewerScale","onOpen","resProps","useIndex","next","prev","setIndex","useRotate","onResetRotate","useScale","onResetScale","useMirror","onResetMirror","useCallback","onScroll","deltaY","onKeyDown","code","document","addEventListener","removeEventListener","isArray","closeNode","isFunction","onWheel"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiCaA,qBAAA,GAAwB,SAAxBA,qBAAwB,CAACC,KAAD,EAAgC;AAC7D,EAAA,IAAA,UAAA,GAAkBC,SAAU,EAA5B;MAAEC,WAAF,cAAEA,WAAF,CAAA;;AAEN,EAAA,sBACGC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAAE,cAAA,EAAA;IACCC,SAASP,KAAM,CAAAO,OADhB;IAECC,OAAOR,KAAM,CAAAQ,KAFd;IAGCC,QAAQT,KAAM,CAAAS,MAHf;AAICC,IAAAA,GAAA,EAAKV,MAAMW,YAAN,CAAmBC,SAJzB;AAKCC,IAAAA,MAAA,EAAQb,MAAMW,YAAN,CAAmBG,SAAAA;AAL5B,GAAA,CADF,CADH,CAAA;AAWF,EAda;AAgBb,IAAMC,kBAAqB,GAAA;AACzBC,EAAAA,OAAS,EAAA,CAAA;AADgB,CAA3B,CAAA;IAIaC,cAAA,GAAiB,SAAjBA,cAAiB,CAACjB,KAAD,EAAgC;AACtD,EAAA,IACJkB,OADI,GAcFlB,KAdE,CACJkB,OADI;AAAA,MAEJC,KAFI,GAcFnB,KAdE,CAEJmB,KAFI;AAAA,MAGJC,KAHI,GAcFpB,KAdE,CAGJoB,KAHI;AAAA,MAIJC,MAJI,GAcFrB,KAdE,CAIJqB,MAJI;AAAA,MAKJb,KALI,GAcFR,KAdE,CAKJQ,KALI;AAAA,MAMJG,YANI,GAcFX,KAdE,CAMJW,YANI;AAAA,MAOJW,SAPI,GAcFtB,KAdE,CAOJsB,SAPI;AAAA,MAQJC,SARI,GAcFvB,KAdE,CAQJuB,SARI;AAAA,MASJC,MATI,GAcFxB,KAdE,CASJwB,MATI;AAAA,MAUJC,OAVI,GAcFzB,KAdE,CAUJyB,OAVI;AAAA,MAWJC,QAXI,GAcF1B,KAdE,CAWJ0B,QAXI;AAAA,MAYJC,QAZI,GAcF3B,KAdE,CAYJ2B,QAZI;AAAA,MAaJC,OAbI,GAcF5B,KAdE,CAaJ4B,OAbI,CAAA;;AAgBA,EAAA,IAAA,WAAA,GAAkB3B,SAAU,EAA5B;MAAEC,WAAF,eAAEA,WAAF,CAAA;;AACN,EAAA,IAAA,cAAA,GAAsB2B,cAAc;AAAEC,IAAAA,SAAA,EAAWC,SAAAA;AAAb,IAApC;MAAQD,WAAR,kBAAQA,SAAR,CAAA;;EAEA,IAAME,wBACH7B,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;GAAlB,iBACCC,KAAA,CAAAC,aAAA,CAAC,MAAD,MAAA,EAAOe,KAAP,CADD,EAAA,EAAA,CAAA,MAAA,CAEKC,KAAQ,GAAA,CAFb,EAAA,GAAA,CAAA,CAAA,MAAA,CAEkBC,MAAO,CAAAY,MAFzB,CAAA,iBAGE9B,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA;AAAKC,IAAAA,qBAAcH;AAAnB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAA0B,WAAA,EAAA;AAAUI,IAAAA,IAAK,EAAA,QAAf;IAAwBC,OAAA,EAAS,iBAACC,CAAD,EAAA;AAAA,MAAA,OAAwBX,OAAA,CAAQ;AAAEY,QAAAA,OAAS,EAAA,WAAX;AAAwBD,QAAAA,GAAAA,CAAAA;AAAxB,OAAR,CAAxB,CAAA;AAAA,KAAA;GAAjC,CADF,CAHF,CADH,CAAA;EAUA,IAAME,wBACHnC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAAmC,gBAAA,EAAA;AACCf,IAAAA,MAAA,EAAAA,MADD;AAECD,IAAAA,SAAA,EAAAA,SAFD;AAGCf,IAAAA,KAAA,EAAAA,KAHD;AAICG,IAAAA,YAAA,EAAAA,YAJD;AAKCe,IAAAA,QAAA,EAAAA,QALD;AAMCC,IAAAA,QAAA,EAAAA,QAND;AAOCC,IAAAA,OAAA,EAAAA,OAAAA;AAPD,GAAA,CADF,CADH,CAAA;AAcA,EAAA,sBACGzB,KAAA,CAAAC,aAAA,CAAAoC,MAAA,EAAA;IACCnC,qBAAcH,aADf,uBAAA,CAAA;AAECoB,IAAAA,SAAA,EAAAA,SAFD;AAGCJ,IAAAA,OAAA,EAAAA,OAHD;AAICuB,IAAAA,KAAM,EAAA,mBAJP;AAKCC,IAAAA,SAAU,EAAA,QALX;AAMCC,IAAAA,IAAK,EAAA,UANN;AAOCC,IAAAA,SAAW,EAAA,IAPZ;AAQCC,IAAAA,UAAY,EAAA,IARb;AASCC,IAAAA,QAAU,EAAA,KATX;AAUCd,IAAAA,MAAA,EAAAA,MAVD;AAWCM,IAAAA,MAAA,EAAAA,MAXD;AAYCb,IAAAA,OAAA,EAAAA,OAZD;AAaCsB,IAAAA,KAAO,EAAAhC,kBAAAA;GAbR,iBAeEZ,KAAA,CAAAC,aAAA,CAAAL,qBAAA,EAAA,aAAA,CAAA,EAAA,EAA0BC,KAA1B,CAAA,CAfF,CADH,CAAA;AAmBF;;;;AC5FA,IAAMgD,aAAa,SAAbA,UAAa,GAAM;AACjB,EAAA,IAAA,UAAA,GAAkB/C,SAAU,EAA5B;MAAEC,WAAF,cAAEA,WAAF,CAAA;;AACN,EAAA,IAAA,cAAA,GAA2B2B,cAAc;AAAEoB,IAAAA,cAAA,EAAgBC,cAAAA;AAAlB,IAAzC;MAAQD,gBAAR,kBAAQA,cAAR,CAAA;;AACA,EAAA,sBACG9C,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBAEEC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAA6C,gBAAA,EAAA;AAAef,IAAAA,IAAK,EAAA,KAAA;GAApB,CADF,iBAEE/B,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,EAA+D,sFAA/D,CAFF,CAFF,CADH,CAAA;AASF,CAZA,CAAA;;AAuBaI,IAAAA,cAAA,GAAiB,SAAjBA,cAAiB,CAAkE,IAAA,EAAA;EAAA,IAA/DC,OAA+D,QAA/DA,OAA+D;MAAtDC,KAAsD,QAAtDA,KAAsD;MAA/CE,GAA+C,QAA/CA,GAA+C;MAA1CG,MAA0C,QAA1CA,MAA0C;MAAlCJ,MAAkC,QAAlCA,MAAkC,CAAA;;AACxF,EAAA,IAAA,WAAA,GAAkBR,SAAU,EAA5B;MAAEC,WAAF,eAAEA,WAAF,CAAA;;AAEA,EAAA,IAAA,YAAA,GAA0BiD,WAAA,CAAY;AAAEC,IAAAA,YAAA,EAAc,CAAC,CAAD,EAAI,CAAJ,CAAA;AAAhB,GAAZ,CAA1B;AAAA,MAAA,aAAA,GAAA,cAAA,CAAA,YAAA,EAAA,CAAA,CAAA;AAAA,MAACC,QAAD,GAAA,aAAA,CAAA,CAAA,CAAA;AAAA,MAAWC,YAAX,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA;;EACN,IAA4BC,SAAAA,GAAAA,SAAS,MAArC;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAAOC,MAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAeC,SAAf,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;EACA,IAA0BF,UAAAA,GAAAA,SAAS,MAAnC;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAA,MAAOG,KAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAcC,QAAd,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;AAEA,EAAA,IAAMC,QAAW,GAAA;AACfC,IAAAA,SAAA,EAAsBtD,UAAAA,CAAAA,MAAAA,CAAAA,OAAtB,EAA2CC,aAAAA,CAAAA,CAAAA,MAAAA,CAAAA,KAA3C,EADe,GAAA,CAAA;AAEfsD,IAAAA,OAAS,EAAA,CAACjD,MAAD,IAAW2C,MAAX,GAAoB,OAApB,GAA8B,MAAA;GAFzC,CAAA;AAIM,EAAA,IAAAO,WAAA,GAAc;AAAEF,IAAAA,SAAA,EAAsBtD,UAAAA,CAAAA,MAAAA,CAAAA,OAAtB,EAA2CC,aAAAA,CAAAA,CAAAA,MAAAA,CAAAA,KAA3C,EAAF,GAAA,CAAA;AAAuDsD,IAAAA,OAAS,EAAA,CAACN,MAAD,GAAU,OAAV,GAAoB,MAAA;GAAlG,CAAA;AACA,EAAA,IAAAQ,QAAA,GAAW;IAAEH,SAAW,EAAA,YAAA,CAAA,MAAA,CAAaR,SAAS,EAAtB,EAA+BA,MAAAA,CAAAA,CAAAA,MAAAA,CAAAA,QAAA,CAAS,CAAT,CAA/B,EAAA,YAAA,CAAA,CAAA,MAAA,CAAuD5C,MAAvD,EAAA,MAAA,CAAA;GAAxB,CAAA;AAENwD,EAAAA,SAAA,CAAU,YAAM;IACdN,QAAA,CAAS,KAAT,CAAA,CAAA;AACF,GAFA,EAEG,CAACjD,GAAD,CAFH,CAAA,CAAA;AAIA,EAAA,sBACGP,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IAAIC,qBAAcH,aAAlB,2BAAA,CAAA;AAA0D6C,IAAAA,KAAO,EAAAiB,QAAAA;GAAjE,EACEN,KAAA,uCAAUV,YAAW,KADvB,EAEE,CAACU,KAAD,IAAU,CAAC,CAAC7C,MAAZ,mBACEV,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IACCC,qBAAcH,aADf,6BAAA,CAAA;IAECoD,WAAA,EAAa,SAACY,WAAAA,CAAAA,KAAD,EAAW;AACtBA,MAAAA,KAAA,CAAMC,eAAN,EAAA,CAAA;;MACAb,YAAA,CAAYY,KAAZ,CAAA,CAAA;KAJH;AAMCxD,IAAAA,GAAK,EAAAG,MANN;AAOCkC,IAAAA,KAAO,EAAAgB,WAPR;AAQC,IAAA,aAAA,EAAY,UARb;AASCK,IAAAA,GAAI,EAAA,OATL;AAUC9C,IAAAA,SAAU,EAAA,OAAA;GAVX,CAHJ,EAgBE,CAACoC,KAAD,mBACEvD,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IACCC,qBAAcH,aADf,6BAAA,CAAA;IAECoD,WAAA,EAAa,SAACY,WAAAA,CAAAA,KAAD,EAAW;AACtBA,MAAAA,KAAA,CAAMC,eAAN,EAAA,CAAA;;MACAb,YAAA,CAAYY,KAAZ,CAAA,CAAA;KAJH;AAMCxD,IAAAA,GAAA,EAAAA,GAND;AAOC2D,IAAAA,MAAA,EAAQ,SAAA,MAAA,GAAA;MAAA,OAAMZ,SAAA,CAAU,IAAV,CAAN,CAAA;KAPT;AAQCa,IAAAA,OAAA,EAAS,SAAA,OAAA,GAAA;MAAA,OAAMX,QAAA,CAAS,IAAT,CAAN,CAAA;KARV;AASCZ,IAAAA,KAAO,EAAAa,QATR;AAUC,IAAA,aAAA,EAAY,UAVb;AAWCQ,IAAAA,GAAI,EAAA,OAXL;AAYC9C,IAAAA,SAAU,EAAA,OAAA;GAZX,CAjBJ,CADF,CADH,CAAA;AAqCF,EAvDa;AA0Db,IAAMiD,YAAe,GAAA,EAArB,CAAA;;AAYA,IAAMC,cAAA,GAAiB,SAAjBA,cAAiB,CAA+F,KAAA,EAAA;EAAA,IAA5FrC,OAA4F,SAA5FA,OAA4F;MAAnF9B,SAAmF,SAAnFA,SAAmF;MAAxEoE,QAAwE,SAAxEA,QAAwE;MAA9DC,OAA8D,SAA9DA,OAA8D;MAArDC,IAAqD,SAArDA,IAAqD;MAA/CC,KAA+C,SAA/CA,KAA+C;AAAA,MAAA,UAAA,GAAA,KAAA,CAAxC1C,IAAwC;MAAxCA,IAAwC,2BAAjC,KAAiC,GAAA,UAAA,CAAA;;AAC9G,EAAA,IAAA,WAAA,GAAkBjC,SAAU,EAA5B;MAAEC,WAAF,eAAEA,WAAF,CAAA;;EAEN,IAAM2E,QAAQC,UAAW,EAAzB,CAAA;AAEA,EAAA,IAAMC,OAAOF,KAAM,CAAAF,IAAA,CAAnB,CAAA;AACA,EAAA,sBACGxE,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IACCC,SAAW,EAAA2E,UAAA,CAAA,EAAA,CAAA,MAAA,CAAc9E,WAAd,EAAA,4BAAA,CAAA,EAAuDG,SAAvD,EACLH,eAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,WADK,EACuBuE,cAAAA,CAAAA,EAAAA,QADvB,CADZ,CAAA;AAICtC,IAAAA,OAAA,EAAAA,OAAAA;GAJD,EAMEwC,uBAASxE,KAAA,CAAAC,aAAA,CAAA2E,IAAA,EAAA;AAAK7C,IAAAA,IAAA,EAAAA,IAAL;AAAiB7B,IAAAA,SAAA,EAAWqE,UAAU,aAAa,IAAA;GAAnD,CANX,EAOEE,wBAAUzE,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA;AAAKC,IAAAA,qBAAcH;GAAnB,EAAmE0E,KAAnE,CAPZ,CADH,CAAA;AAWF,CAjBA,CAAA;;AA6BarC,IAAAA,mBAAmB,SAAnBA,gBAAmB,CAQH,KAAA,EAAA;EAAA,IAP3Bf,MAO2B,SAP3BA,MAO2B;MAN3BhB,KAM2B,SAN3BA,KAM2B;MAL3Be,SAK2B,SAL3BA,SAK2B;MAJ3BZ,YAI2B,SAJ3BA,YAI2B;MAH3Be,QAG2B,SAH3BA,QAG2B;MAF3BC,QAE2B,SAF3BA,QAE2B;MAD3BC,OAC2B,SAD3BA,OAC2B,CAAA;;AACrB,EAAA,IAAA,WAAA,GAAkB3B,SAAU,EAA5B;MAAEC,WAAF,eAAEA,WAAF,CAAA;;AACN,EAAA,IAAA,eAAA,GAAgD2B,aAAc,CAAA;AAC5DoD,IAAAA,UAAY,EAAAC,UADgD;AAE5DC,IAAAA,YAAc,EAAAC,YAF8C;AAG5DC,IAAAA,SAAW,EAAAC,SAAAA;AAHiD,GAAA,CAA9D;MAAQL,YAAR,mBAAQA,UAAR;MAAoBE,cAApB,mBAAoBA,YAApB;MAAkCE,WAAlC,mBAAkCA,SAAlC,CAAA;;AAMA,EAAA,sBACGlF,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAAmF,OAAA,EAAA;IACCC,4BAAqBtF,aADtB,2BAAA,CAAA;AAECuF,IAAAA,OAAQ,EAAA,cAFT;AAGCC,IAAAA,cAAc,EAAA,IAHf;AAIChD,IAAAA,SAAU,EAAA,KAJX;AAKCiD,IAAAA,SAAS,EAAA,IALV;AAMCC,IAAAA,KAAM,EAAA,SAAA;AANP,GAAA,iBAQEzF,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAA6E,YAAA,EAAA;AAAW/C,IAAAA,IAAK,EAAA,QAAhB;AAAyBC,IAAAA,OAAS,EAAAR,QAAAA;GAAlC,CADF,CARF,CADF,iBAaExB,KAAA,CAAAC,aAAA,CAAAmF,OAAA,EAAA;IACCC,4BAAqBtF,aADtB,2BAAA,CAAA;AAECuF,IAAAA,OAAQ,EAAA,cAFT;AAGCC,IAAAA,cAAc,EAAA,IAHf;AAIChD,IAAAA,SAAU,EAAA,KAJX;AAKCiD,IAAAA,SAAS,EAAA,IALV;AAMCC,IAAAA,KAAM,EAAA,SAAA;AANP,GAAA,iBAQEzF,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAA+E,cAAA,EAAA;AAAajD,IAAAA,IAAK,EAAA,QAAlB;AAA2BC,IAAAA,OAAS,EAAA,SAAA,OAAA,GAAA;AAAA,MAAA,OAAMT,QAAS,CAAA,CAAC6C,YAAD,CAAf,CAAA;AAAA,KAAA;GAApC,CADF,CARF,CAbF,iBAyBEpE,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;AAAetC,IAAAA,IAAK,EAAA,QAApB;AAA6ByC,IAAAA,IAAK,EAAA,UAAlC;AAA6CxC,IAAAA,OAAS,EAAAZ,SAAAA;GAAtD,CAzBF,iBA0BEpB,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;IACCnE,qBAAcH,aADf,6BAAA,CAAA;AAECgC,IAAAA,IAAK,EAAA,QAFN;IAGC0C,KAAA,EAAA,EAAA,CAAA,MAAA,CAAUpE,KAAQ,GAAA,GAAlB,EAAA,GAAA,CAAA;GAHD,CA1BF,iBA+BEL,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;AAAetC,IAAAA,IAAK,EAAA,QAApB;AAA6ByC,IAAAA,IAAK,EAAA,SAAlC;AAA4CxC,IAAAA,OAAS,EAAAX,MAAAA;GAArD,CA/BF,iBAgCErB,KAAA,CAAAC,aAAA,CAAAmF,OAAA,EAAA;IACCC,4BAAqBtF,aADtB,2BAAA,CAAA;AAECuF,IAAAA,OAAQ,EAAA,0BAFT;AAGCC,IAAAA,cAAc,EAAA,IAHf;AAIChD,IAAAA,SAAU,EAAA,KAJX;AAKCiD,IAAAA,SAAS,EAAA,IALV;AAMCC,IAAAA,KAAM,EAAA,SAAA;AANP,GAAA,iBAQEzF,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAAiF,WAAA,EAAA;AACCnD,IAAAA,IAAK,EAAA,QADN;AAECyC,IAAAA,IAAK,EAAA,OAFN;AAGCxC,IAAAA,SAAS,SAAM,OAAA,GAAA;MACLP,OAAA,EAAA,CAAA;AACV,KAAA;AALD,GAAA,CADF,CARF,CAhCF,EAkDEjB,YAAA,CAAakF,QAAb,mBACE1F,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;AACCtC,IAAAA,IAAK,EAAA,QADN;AAECyC,IAAAA,IAAK,EAAA,UAFN;AAGCxC,IAAAA,SAAS,SAAM,OAAA,GAAA;AACb2D,MAAAA,YAAA,CAAanF,aAAaC,SAA1B,CAAA,CAAA;AACF,KAAA;GALD,CAnDJ,CADF,CADH,CAAA;AAiEF,EAjFO;;AAyFP,IAAMmF,iBAAA,GAAoB,SAApBA,iBAAoB,CAAC/F,KAAD,EAAmC;AACrD,EAAA,IAAA,WAAA,GAAkBC,SAAU,EAA5B;MAAEC,WAAF,eAAEA,WAAF,CAAA;;AACN,EAAA,IAAQmB,MAAR,GAA6CrB,KAA7C,CAAQqB,MAAR;AAAA,MAAgB2E,YAAhB,GAA6ChG,KAA7C,CAAgBgG,YAAhB;AAAA,MAA8BC,UAA9B,GAA6CjG,KAA7C,CAA8BiG,UAA9B,CAAA;;EAEA,IAAgC1C,UAAAA,GAAAA,SAAS,KAAzC;AAAA,MAAA,UAAA,GAAA,cAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAA,MAAO2C,QAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAiBC,WAAjB,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;AAEA,EAAA,IAAMC,UAAa,GAAA;IAAEvC,SAAW,EAAA,cAAA,CAAA,MAAA,CAAemC,eAAe,EAA9B,EAAA,KAAA,CAAA;GAAhC,CAAA;AAEA,EAAA,sBACG7F,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AACCC,IAAAA,SAAA,EAAW2E,UAAW,CAAA,EAAA,CAAA,MAAA,CAAG9E,WAAH,EAChBA,6BAAAA,CAAAA,EAAAA,eAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,WADgB,eACQgG,QADR,CAAA,CAAA;AADvB,GAAA,iBAKE/F,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;AACCtC,IAAAA,IAAK,EAAA,MADN;AAECyC,IAAAA,IAAK,EAAA,cAFN;IAGCtE,qBAAcH,aAHf,gCAAA,CAAA;AAICiC,IAAAA,OAAS,EAAA,SAAA,OAAA,GAAA;AAAA,MAAA,OAAMgE,WAAY,CAAA,CAACD,QAAD,CAAlB,CAAA;AAAA,KAAA;GAJV,CALF,iBAWE/F,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACEC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;GAAlB,CADF,iBAEEC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;GAAlB,CAFF,iBAGEC,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IAAIC,qBAAcH,aAAlB,8BAAA,CAAA;AAA6D6C,IAAAA,KAAO,EAAAqD,UAAAA;GAApE,EACE/E,MAAO,CAAAgF,GAAP,CAAW,UAACC,KAAD,EAAQlF,KAAR,EAAA;AAAA,IAAA,sBACTjB,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AACCmG,MAAAA,GAAK,EAAAnF,KADN;MAECf,SAAA,EAAW2E,UAAW,CAAA,EAAA,CAAA,MAAA,CAAG9E,WAAH,EAAA,4BAAA,CAAA,EAAA,eAAA,CAAA,EAAA,EAAA,EAAA,CAAA,MAAA,CAChBA,WADgB,EACUkB,YAAAA,CAAAA,EAAAA,KAAU,KAAA4E,YADpB,CAFvB,CAAA;AAKC7D,MAAAA,OAAA,EAAS,SAAA,OAAA,GAAA;QAAA,OAAM8D,UAAA,CAAW7E,KAAX,CAAN,CAAA;AAAA,OAAA;AALV,KAAA,iBAOEjB,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AACCgE,MAAAA,GAAI,EAAA,EADL;AAEC1D,MAAAA,GAAA,EAAK4F,KAAM,CAAAxF,SAAN,IAAmBwF,KAAM,CAAA1F,SAF/B;AAGCP,MAAAA,qBAAcH;AAHf,KAAA,CAPF,CADS,CAAA;GAAX,CADF,CAHF,CAXF,CADH,CAAA;AAmCF,CA3CA,CAAA;;IAiEasG,UAAA,GAAa,SAAbA,UAAa,CAACxG,KAAD,EAA4B;AAC9C,EAAA,IACJyG,cADI,GAeFzG,KAfE,CACJyG,cADI;MAeFzG,kBAAAA,GAAAA,KAfE,CAEJ0G,WAFI;MAEJA,WAFI,mCAEU,IAFV,GAAA,kBAAA;AAAA,MAGJC,MAHI,GAeF3G,KAfE,CAGJ2G,MAHI;AAAA,MAIJtF,MAJI,GAeFrB,KAfE,CAIJqB,MAJI;AAAA,MAKJuF,MALI,GAeF5G,KAfE,CAKJ4G,MALI;AAAA,MAMJC,UANI,GAeF7G,KAfE,CAMJ6G,UANI;AAAA,MAOJC,WAPI,GAeF9G,KAfE,CAOJ8G,WAPI;AAAA,MAQJhE,QARI,GAeF9C,KAfE,CAQJ8C,QARI;AAAA,MASJxB,SATI,GAeFtB,KAfE,CASJsB,SATI;AAAA,MAUJyF,MAVI,GAeF/G,KAfE,CAUJ+G,MAVI;AAAA,MAWJtF,OAXI,GAeFzB,KAfE,CAWJyB,OAXI;AAAA,MAYJP,OAZI,GAeFlB,KAfE,CAYJkB,OAZI;AAAA,MAaJC,KAbI,GAeFnB,KAfE,CAaJmB,KAbI;MAcD6F,QAdC,4BAeFhH,KAfE,EAAA,SAAA,CAAA,CAAA;;AAgBA,EAAA,IAAA,WAAA,GAAkBC,SAAU,EAA5B;MAAEC,WAAF,eAAEA,WAAF,CAAA;;EACN,IAAI8G,SAAS5F,KAAT,KAAmB,KAAA,CAAvB,EAAkC,OAAO4F,QAAS,CAAA5F,KAAhB,CAAA;;AAC5B,EAAA,IAAA,SAAA,GAAkC6F,QAAA,CAASD,QAAT,EAAmB3F,MAAnB,CAAlC;MAAED,KAAF,aAAEA,KAAF;MAAS8F,IAAT,aAASA,IAAT;MAAeC,IAAf,aAAeA,IAAf;MAAqBC,QAArB,aAAqBA,QAArB,CAAA;;AACN,EAAA,IAAA,UAAA,GAA6CC,SAAU,EAAvD;MAAQ9G,OAAR,cAAQA,OAAR;MAAiB+G,aAAjB,cAAiBA,aAAjB;MAAgC5F,QAAhC,cAAgCA,QAAhC,CAAA;;EACA,IAAmD6F,SAAAA,GAAAA,SAASV,WAA5D;MAAQrG,KAAR,aAAQA,KAAR;MAAegB,MAAf,aAAeA,MAAf;MAAuBD,SAAvB,aAAuBA,SAAvB;MAAkCiG,YAAlC,aAAkCA,YAAlC,CAAA;;AACA,EAAA,IAAA,UAAA,GAA4CC,SAAU,EAAtD;MAAQhH,MAAR,cAAQA,MAAR;MAAgBiH,aAAhB,cAAgBA,aAAhB;MAA+B/F,QAA/B,cAA+BA,QAA/B,CAAA;;AAEM,EAAA,IAAAC,OAAA,GAAU+F,YAAY,YAAM;IACnBH,YAAA,EAAA,CAAA;IACCF,aAAA,EAAA,CAAA;IACAI,aAAA,EAAA,CAAA;KACb,CAACA,aAAD,EAAgBF,YAAhB,EAA8BF,aAA9B,EAJG,CAAA;AAMN,EAAA,IAAMM,QAA8C,GAAAD,WAAA,CAClD,UAACvF,CAAD,EAAO;AACC,IAAA,IAAEyF,MAAF,GAAazF,CAAb,CAAEyF,MAAF,CAAA;AACGA,IAAAA,MAAA,GAAA,CAAA,GAAIrG,MAAO,EAAX,GAAeD,SAAU,EAAzB,CAAA;AACX,GAJkD,EAKlD,CAACC,MAAD,EAASD,SAAT,CALkD,CAApD,CAAA;AAQA,EAAA,IAAMuG,SAAY,GAAAH,WAAA,CAChB,UAACzD,KAAD,EAAW;IACT,QAAQA,KAAM,CAAA6D,IAAd;AACO,MAAA,KAAA,YAAA;AACH,QAAA,OAAOb,IAAK,EAAZ,CAAA;;AACG,MAAA,KAAA,WAAA;AACH,QAAA,OAAOC,IAAK,EAAZ,CAAA;;AACG,MAAA,KAAA,SAAA;AACH,QAAA,OAAO3F,MAAO,EAAd,CAAA;;AACG,MAAA,KAAA,WAAA;AACH,QAAA,OAAOD,SAAU,EAAjB,CAAA;;AACG,MAAA,KAAA,QAAA;AACH,QAAA,OAAOE,OAAP,KAAA,IAAA,IAAOA,OAAP,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAOA,QAAU;AAAEY,UAAAA,OAAA,EAAS,KAAX;AAAkBD,UAAAA,CAAA,EAAG8B,KAAAA;AAArB,UAAjB,CAAA;AAVJ,KAAA;AAYF,GAdgB,EAehB,CAACgD,IAAD,EAAOzF,OAAP,EAAgB0F,IAAhB,EAAsB3F,MAAtB,EAA8BD,SAA9B,CAfgB,CAAlB,CAAA;AAkBA0C,EAAAA,SAAA,CAAU,YAAM;AACL+D,IAAAA,QAAA,CAAAC,gBAAA,CAAiB,SAAjB,EAA4BH,SAA5B,CAAA,CAAA;IACT,OAAO,YAAA;AAAA,MAAA,OAAME,QAAA,CAASE,mBAAT,CAA6B,SAA7B,EAAwCJ,SAAxC,CAAN,CAAA;KAAP,CAAA;AACF,GAHA,EAGG,CAACA,SAAD,CAHH,CAAA,CAAA;AAKA7D,EAAAA,SAAA,CAAU,YAAM;IACNrC,OAAA,EAAA,CAAA;AACP,GAFH,EAEG,CAACR,KAAD,EAAQQ,OAAR,CAFH,CAAA,CAAA;AAIA,EAAA,IAAI,CAACuG,SAAA,CAAQ9G,MAAR,CAAD,IAAoBA,OAAOY,MAAP,GAAgB,CAAxC,EAAkD,OAAA,IAAA,CAAA;AAElD,EAAA,IAAMtB,eAA0BU,MAAO,CAAAD,KAAA,CAAvC,CAAA;;AAEA,EAAA,IAAIwF,MAAJ,EAAY;AACV,IAAA,sBACGzG,KAAA,CAAAC,aAAA,CAAAa,cAAA,EAAA;AACCC,MAAAA,OAAA,EAAAA,OADD;AAECI,MAAAA,SAAA,EAAAA,SAFD;AAGCF,MAAAA,KAAA,EAAAA,KAHD;AAICC,MAAAA,MAAA,EAAAA,MAJD;AAKCwF,MAAAA,UAAA,EAAAA,UALD;AAMCC,MAAAA,WAAA,EAAAA,WAND;AAOCvG,MAAAA,OAAA,EAAAA,OAPD;AAQCoG,MAAAA,MAAA,EAAAA,MARD;AASChG,MAAAA,YAAA,EAAAA,YATD;AAUCwG,MAAAA,IAAA,EAAAA,IAVD;AAWCD,MAAAA,IAAA,EAAAA,IAXD;AAYCzG,MAAAA,MAAA,EAAAA,MAZD;AAaCD,MAAAA,KAAA,EAAAA,KAbD;AAcCW,MAAAA,KAAA,EAAAA,KAdD;AAeCQ,MAAAA,QAAA,EAAAA,QAfD;AAgBCH,MAAAA,MAAA,EAAAA,MAhBD;AAiBCC,MAAAA,OAAA,EAAAA,OAjBD;AAkBCF,MAAAA,SAAA,EAAAA,SAlBD;AAmBCqG,MAAAA,QAAA,EAAAA,QAnBD;AAoBChG,MAAAA,OAAA,EAAAA,OApBD;AAqBCF,MAAAA,QAAA,EAAAA,QAAAA;AArBD,KAAA,CADH,CAAA;AAyBF,GAAA;;EAGA,IAAI0G,SAAmB,GAAAtF,QAAvB,CAAA;;EACA,IAAIA,aAAa,IAAjB,EAAuB;AACrBsF,IAAAA,SAAA,kBACGjI,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;AACCG,MAAAA,IAAK,EAAA,OADN;AAECzC,MAAAA,IAAK,EAAA,MAFN;MAGC7B,qBAAcH,aAHf,iCAAA,CAAA;MAICiC,OAAA,EAAS,iBAACC,CAAD,EAAA;QAAA,OAAgCX,OAAA,IAAWA,QAAQ;AAAEY,UAAAA,OAAA,EAAS,WAAX;AAAwBD,UAAAA,CAAA,EAAAA,CAAAA;AAAxB,UAAnD,CAAA;AAAA,OAAA;AAJV,KAAA,CADH,CAAA;GADF,MASA,IAAWiG,aAAWvF,SAAtB,EAAiCsF,SAAA,GAAYtF,QAAS,CAAA;AAAErB,IAAAA,OAAS,EAATA,OAAF;AAAWsF,IAAAA,MAAA,EAAAA,MAAAA;AAAX,GAAA,CAArB,CAAA;;AAEjC,EAAA,sBACG5G,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IACCC,SAAA,EAAW2E,UAAW,CAAG9E,EAAAA,CAAAA,MAAAA,CAAAA,WAAH,gEAChBA,WADgB,EAAA,UAAA,CAAA,EACQ,CAACgB,OADT,CADvB,CAAA;AAICoH,IAAAA,OAAS,EAAAV,QAJV;AAKC7E,IAAAA,KAAA,EAAO;AAAE4D,MAAAA,MAAO,EAAPA,MAAAA;AAAF,KAAA;GALR,EAOE,CAAC,CAACD,WAAF,mBACEvG,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IACCC,qBAAcH,aADf,4BAAA,CAAA;IAECiC,OAAA,EAAS,iBAACC,CAAD,EAAA;AAAA,MAAA,OAAgCqE,cAAA,KAAkBhF,OAAlB,aAAkBA,OAAlB,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAkBA,QAAU;AAAEY,QAAAA,OAAA,EAAS,SAAX;AAAsBD,QAAAA,CAAA,EAAAA,CAAAA;AAAtB,QAA5B,CAAhC,CAAA;AAAA,KAAA;GAFV,CARJ,EAaEf,MAAA,CAAOY,MAAP,GAAgB,CAAhB,4EAEI9B,KAAA,CAAAC,aAAA,CAAA2F,iBAAA,EAAA;AAAkB1E,IAAAA,MAAA,EAAAA,MAAlB;AAAkC2E,IAAAA,YAAc,EAAA5E,KAAhD;AAAuD6E,IAAAA,UAAY,EAAAmB,QAAAA;GAAnE,kBACAjH,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;AAAIC,IAAAA,qBAAcH;AAAlB,GAAA,iBACCC,KAAA,CAAAC,aAAA,CAAC,MAAD,EAAO,IAAP,EAAOe,KAAP,CADD,EAEKC,EAAAA,CAAAA,MAAAA,CAAAA,QAAQ,CAFb,EAEkBC,GAAAA,CAAAA,CAAAA,MAAAA,CAAAA,MAAA,CAAOY,MAFzB,mBAIA9B,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;AACCtC,IAAAA,IAAK,EAAA,MADN;AAECyC,IAAAA,IAAK,EAAA,cAFN;IAGCtE,qBAAcH,aAHf,+BAAA,CAAA;AAICiC,IAAAA,OAAS,EAAAgF,IAJV;IAKC1C,UAAUrD,KAAS,IAAA,CAAA;GALpB,kBAOAjB,KAAA,CAAAC,aAAA,CAAAoE,cAAA,EAAA;AACCtC,IAAAA,IAAK,EAAA,MADN;AAECyC,IAAAA,IAAK,EAAA,eAFN;IAGCtE,qBAAcH,aAHf,+BAAA,CAAA;AAICiC,IAAAA,OAAS,EAAA+E,IAJV;AAKCzC,IAAAA,QAAA,EAAUrD,KAAS,IAAAC,MAAA,CAAOY,MAAP,GAAgB,CAAA;GALpC,EA3BN,iBAoCE9B,KAAA,CAAAC,aAAA,CAAAmC,gBAAA,EAAA;AACCf,IAAAA,MAAA,EAAAA,MADD;AAECD,IAAAA,SAAA,EAAAA,SAFD;AAGCf,IAAAA,KAAA,EAAAA,KAHD;AAICG,IAAAA,YAAA,EAAAA,YAJD;AAKCe,IAAAA,QAAA,EAAAA,QALD;AAMCC,IAAAA,QAAA,EAAAA,QAND;AAOCC,IAAAA,OAAA,EAAAA,OAAAA;GAPD,CApCF,EA6CEwG,SA7CF,iBA8CEjI,KAAA,CAAAC,aAAA,CAAAE,cAAA,EAAA;AACCE,IAAAA,KAAA,EAAAA,KADD;AAECD,IAAAA,OAAA,EAAAA,OAFD;AAGCE,IAAAA,MAAA,EAAAA,MAHD;IAICI,QAAQF,YAAa,CAAAG,SAJtB;IAKCJ,KAAKC,YAAa,CAAAC,SAAAA;AALnB,GAAA,CA9CF,CADH,CAAA;AAwDF;;;;"}