{"version":3,"file":"MenuItem.js","sources":["../../src/menu/MenuItem.tsx"],"sourcesContent":["import React, { FC, useContext, useRef } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../hooks/useConfig';\nimport useRipple from '../_util/useRipple';\nimport { TdMenuItemProps } from './type';\nimport { StyledProps } from '../common';\nimport { MenuContext } from './MenuContext';\n\nexport interface MenuItemProps extends TdMenuItemProps, StyledProps {}\n\nconst MenuItem: FC<MenuItemProps> = (props) => {\n  const {\n    content,\n    children = content,\n    disabled,\n    href,\n    target = '_self',\n    value,\n    className,\n    style,\n    icon,\n    onClick,\n  } = props;\n  const { classPrefix } = useConfig();\n  // 斜八角动画\n  const menuItemRef = useRef();\n  useRipple(menuItemRef);\n\n  const { onChange, setState, active } = useContext(MenuContext);\n\n  const handleClick = (e: React.MouseEvent<HTMLLIElement>) => {\n    e.stopPropagation();\n    if (disabled) return;\n\n    onClick && onClick({ e });\n    onChange(value);\n    setState({ active: value });\n  };\n\n  return (\n    <li\n      ref={menuItemRef}\n      className={classNames(`${classPrefix}-menu__item`, className, {\n        [`${classPrefix}-is-disabled`]: disabled,\n        [`${classPrefix}-is-active`]: value === active,\n        [`${classPrefix}-menu__item--plain`]: !icon,\n      })}\n      style={{ ...style }}\n      onClick={handleClick}\n    >\n      {icon}\n      {href ? (\n        <a href={href} target={target} className={classNames(`${classPrefix}-menu__item-link`)}>\n          <span className={`${classPrefix}-menu__content`}>{children}</span>\n        </a>\n      ) : (\n        <span className={`${classPrefix}-menu__content`}>{children}</span>\n      )}\n    </li>\n  );\n};\n\nMenuItem.displayName = 'MenuItem';\n\nexport default MenuItem;\n"],"names":["MenuItem","props","content","children","disabled","href","target","value","className","style","icon","onClick","useConfig","classPrefix","menuItemRef","useRef","useRipple","useContext","MenuContext","onChange","setState","active","handleClick","e","stopPropagation","React","createElement","ref","classNames","displayName"],"mappings":"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"}