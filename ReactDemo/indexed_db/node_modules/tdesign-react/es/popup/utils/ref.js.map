{"version":3,"file":"ref.js","sources":["../../../src/popup/utils/ref.ts"],"sourcesContent":["import { isMemo } from 'react-is';\n\n// 判断是否支持 ref 透传\nexport function supportRef(nodeOrComponent: any): boolean {\n  const type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !type.prototype?.render) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !nodeOrComponent.prototype?.render) {\n    return false;\n  }\n\n  return true;\n}\n\n// 获取 ref 中的 dom 元素\nexport function getRefDom(domRef: React.RefObject<any>) {\n  if (domRef.current && typeof domRef.current === 'object' && 'currentElement' in domRef.current) {\n    return domRef.current.currentElement;\n  }\n  return domRef.current;\n}\n"],"names":["supportRef","nodeOrComponent","type","isMemo","prototype","render","getRefDom","domRef","current","currentElement"],"mappings":";;;;;;;;;AAGO,SAASA,UAAT,CAAoBC,eAApB,EAAmD;AAAA,EAAA,IAAA,eAAA,EAAA,qBAAA,CAAA;;AACxD,EAAA,IAAMC,OAAOC,MAAO,CAAAF,eAAA,CAAP,GAA0BA,eAAgB,CAAAC,IAAhB,CAAqBA,IAA/C,GAAsDD,eAAgB,CAAAC,IAAnF,CAAA;;AAGA,EAAA,IAAI,OAAOA,IAAP,KAAgB,UAAhB,IAA8B,EAAA,CAAA,eAAA,GAACA,IAAA,CAAKE,SAAN,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,IAAC,eAAgBC,CAAAA,MAAjB,CAAlC,EAA2D;AAClD,IAAA,OAAA,KAAA,CAAA;AACT,GAAA;;AAGA,EAAA,IAAI,OAAOJ,eAAP,KAA2B,UAA3B,IAAyC,EAAA,CAAA,qBAAA,GAACA,eAAA,CAAgBG,SAAjB,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,IAAC,qBAA2BC,CAAAA,MAA5B,CAA7C,EAAiF;AACxE,IAAA,OAAA,KAAA,CAAA;AACT,GAAA;;AAEO,EAAA,OAAA,IAAA,CAAA;AACT,CAAA;AAGO,SAASC,SAAT,CAAmBC,MAAnB,EAAiD;AAClD,EAAA,IAAAA,MAAA,CAAOC,OAAP,IAAkB,QAAOD,MAAA,CAAOC,OAAd,CAAA,KAA0B,QAA5C,IAAwD,gBAAA,IAAoBD,OAAOC,OAAnF,EAA4F;AAC9F,IAAA,OAAOD,OAAOC,OAAP,CAAeC,cAAtB,CAAA;AACF,GAAA;;EACA,OAAOF,MAAO,CAAAC,OAAd,CAAA;AACF;;;;"}