{"version":3,"file":"Calendar.js","sources":["../../src/calendar/Calendar.tsx"],"sourcesContent":["import React, { useMemo, useState, useCallback, useEffect, forwardRef } from 'react';\nimport dayjs from 'dayjs';\nimport Button from '../button';\nimport Select from '../select';\nimport Radio from '../radio';\nimport CheckTag from '../tag/CheckTag';\nimport noop from '../_util/noop';\nimport usePrefixClass from './hooks/usePrefixClass';\nimport useLayoutEffect from '../_util/useLayoutEffect';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TdCalendarProps, ControllerOptions, CalendarCell, CalendarValue, CalendarController } from './type';\nimport { StyledProps } from '../common';\nimport { blockName, controlSectionSize, minYear, createDateList, createMonthList } from './_util';\nimport CalendarCellComp from './CalendarCellComp';\nimport { calendarDefaultProps } from './defaultProps';\n\nexport interface CalendarProps extends TdCalendarProps, StyledProps {}\n\nexport interface CalendarMethods {\n  /**\n   * 显示当前月份\\年份\n   */\n  toCurrent: (value: CalendarValue) => void;\n}\n\n// 组件内部将 controllerConfigData 参数类型转换为 CalendarController 处理，将 bool 时候的值作为 visible 并入其中\ninterface InternalCalendarController extends Required<CalendarController> {\n  visible: boolean;\n}\n\nconst getDefaultControllerConfigData = (visible = true): InternalCalendarController => ({\n  visible, // 是否显示（全部控件）\n  disabled: false, // 是否禁用（全部控件）\n  // 模式切换单选组件设置\n  mode: {\n    visible: true, // 是否显示\n    radioGroupProps: {}, // 用于透传 props 给该 radioGroup 组件\n  },\n  // 年份选择框组件相关设置\n  year: {\n    visible: true, // 是否显示\n    selectProps: { popupProps: { overlayInnerStyle: { width: '110px' } } }, // 用于透传props给该select组件\n  },\n  // 年份选择框组件相关设置\n  month: {\n    visible: true, // 是否显示（“year”模式下本身是不显示该组件的）\n    selectProps: { popupProps: { overlayInnerStyle: { width: '90px' } } }, // 用于透传props给该select组件\n  },\n  // 隐藏\\显示周末按钮组件相关设置\n  weekend: {\n    visible: true, // 是否显示\n    showWeekendButtonProps: {}, // 用于透传 props 给显示周末按钮组件\n    hideWeekendButtonProps: {}, // 用于透传 props 给隐藏周末按钮组件\n  },\n  // “今天\\本月”按钮组件相关设置\n  current: {\n    visible: true, // 是否显示\n    currentDayButtonProps: {}, // 用于透传 props 给“今天”钮组件（“month”模式下有效）\n    currentMonthButtonProps: {}, // 用于透传props给“本月”按钮组件（“year”模式下有效）\n  },\n});\n\nconst Calendar: React.FC<CalendarProps> = forwardRef((props, ref: React.MutableRefObject<CalendarMethods>) => {\n  const {\n    className,\n    style,\n    mode: modeFromProps,\n    value: valueFromProps,\n    firstDayOfWeek,\n    format,\n    range,\n    head,\n    cell,\n    cellAppend,\n    week,\n    theme,\n    controllerConfig,\n    isShowWeekendDefault = true,\n    preventCellContextmenu = false,\n    month: monthProps,\n    year: yearProps,\n    onControllerChange = noop,\n    onCellClick = noop,\n    onCellDoubleClick = noop,\n    onCellRightClick = noop,\n    onMonthChange = noop,\n    fillWithZero,\n  } = props;\n\n  // 组装配置信息\n  const controllerConfigData: InternalCalendarController =\n    typeof controllerConfig === 'boolean'\n      ? getDefaultControllerConfigData(controllerConfig)\n      : { ...getDefaultControllerConfigData(), ...controllerConfig };\n\n  // 处理 monthProps 与 yearProps 比 controllerConfig 优先的情况\n  if (typeof controllerConfig !== 'boolean') {\n    if (monthProps) {\n      controllerConfigData.month.visible = true;\n    }\n    if (yearProps) {\n      controllerConfigData.year.visible = true;\n    }\n  }\n\n  // 读配置信息\n  const {\n    visible,\n    disabled,\n    mode: modeFromConfig,\n    year: yearFromConfig,\n    month: monthFromConfig,\n    weekend,\n    current,\n  } = controllerConfigData;\n  const { visible: visibleForMode = true, radioGroupProps: radioGroupPropsForMode = {} } = modeFromConfig;\n  const { visible: visibleForYear = true, selectProps: selectPropsForYear = {} } = yearFromConfig;\n  const { visible: visibleForMonth = true, selectProps: selectPropsForMonth = {} } = monthFromConfig;\n  const { visible: visibleForWeekendToggle = true, showWeekendButtonProps = {}, hideWeekendButtonProps = {} } = weekend;\n  const { visible: visibleForCurrent = true, currentDayButtonProps = {}, currentMonthButtonProps = {} } = current;\n\n  const [mode, setMode] = useState<string>('month');\n  const [value, setValue] = useState<dayjs.Dayjs>(dayjs(valueFromProps || dayjs().format('YYYY-MM-DD')));\n  const [year, setYear] = useState<number>(yearProps ? Number(yearProps) : value.year());\n  const [month, setMonth] = useState<number>(monthProps ? Number(monthProps) : parseInt(value.format('M'), 10));\n  const [isShowWeekend, setIsShowWeekend] = useState<boolean>(isShowWeekendDefault);\n\n  const [local, t] = useLocaleReceiver('calendar');\n\n  // 表头数组\n  const weekLabelList = t(local.week).split(',');\n  const colHeaderList = useMemo(() => {\n    if (mode === 'year') return [];\n    const weekTextArr = Array.isArray(week) && week.length >= 7 ? week : [...weekLabelList];\n    const list = [];\n    for (let i = firstDayOfWeek; i <= 7; i++) {\n      if (!isShowWeekend && i > 5) {\n        break;\n      }\n      list.push({\n        day: i,\n        text: weekTextArr[i - 1],\n      });\n    }\n    if (firstDayOfWeek > 1) {\n      for (let i = 1; i < firstDayOfWeek; i++) {\n        if (!isShowWeekend && i > 5) {\n          break;\n        }\n        list.push({\n          day: i,\n          text: weekTextArr[i - 1],\n        });\n      }\n    }\n    return list;\n  }, [mode, firstDayOfWeek, isShowWeekend, week, weekLabelList]);\n\n  // 根据传入的 range 参数生成 key 为 from, to 的范围对象\n  const rangeFromTo = useMemo(() => {\n    if (!range || range.length < 2) {\n      return null;\n    }\n    const [v1, v2] = range;\n    if (dayjs(v1).isBefore(dayjs(v2))) {\n      return {\n        from: v1,\n        to: v2,\n      };\n    }\n    return {\n      from: v2,\n      to: v1,\n    };\n  }, [range]);\n\n  // 构造基础 controllerOptions\n  const controllerOptions: ControllerOptions = useMemo(() => {\n    const dayJsFilterDate: dayjs.Dayjs = dayjs(`${year}-${month}`);\n    const re = {\n      filterDate: dayJsFilterDate.toDate(),\n      formattedFilterDate: dayJsFilterDate.format(format),\n      mode,\n      isShowWeekend,\n    };\n    return re;\n  }, [isShowWeekend, mode, year, month, format]);\n\n  // 年份、月份 Select 选择框选项\n  const [yearSelectList, monthSelectList] = useMemo(() => {\n    const isRangeValid = rangeFromTo && rangeFromTo.from && rangeFromTo.to;\n    const checkMonthSelectorDisabled = (yearIn: number, monthIn: number): boolean => {\n      if (isRangeValid) {\n        const beginYear = dayjs(rangeFromTo.from).year();\n        const endYear = dayjs(rangeFromTo.to).year();\n        if (yearIn === beginYear) {\n          const beginMon = parseInt(dayjs(rangeFromTo.from).format('M'), 10);\n          return monthIn < beginMon;\n        }\n        if (yearIn === endYear) {\n          const endMon = parseInt(dayjs(rangeFromTo.to).format('M'), 10);\n          return monthIn > endMon;\n        }\n      }\n      return false;\n    };\n\n    const yearList = [];\n    const monthList = [];\n    // 年列表\n    const yearBegin = isRangeValid ? dayjs(rangeFromTo.from).year() : Math.max(minYear, year - 10);\n    const yearEnd = isRangeValid ? dayjs(rangeFromTo.to).year() : Math.max(minYear, year + 10);\n    for (let i = yearBegin; i <= yearEnd; i++) {\n      yearList.push({\n        value: i,\n        disabled: checkMonthSelectorDisabled(i, month),\n      });\n    }\n    // 月列表\n    for (let i = 1; i <= 12; i++) {\n      monthList.push({\n        value: i,\n        disabled: checkMonthSelectorDisabled(year, i),\n      });\n    }\n    return [yearList, monthList];\n  }, [rangeFromTo, year, month]);\n\n  // mode为 'month' 时，构造日历列表\n  const dateList = useMemo<CalendarCell[][]>(\n    () => createDateList(year, month, firstDayOfWeek, value, format),\n    [year, month, firstDayOfWeek, format, value],\n  );\n\n  // mode为 'year' 时，构造月历列表\n  const monthList = useMemo<CalendarCell[][]>(() => createMonthList(year, value, format), [year, value, format]);\n\n  // 将基础的 CalendarCell 与 ControllerOptions 进行合并\n  const createCalendarCell = useCallback(\n    (cellData: CalendarCell): CalendarCell => ({\n      ...cellData,\n      ...controllerOptions,\n    }),\n    [controllerOptions],\n  );\n\n  const toCurrent = useCallback((valueIn: CalendarValue = null) => {\n    const now: dayjs.Dayjs = dayjs(valueIn).isValid() ? dayjs(valueIn) : dayjs(dayjs().format('YYYY-MM-DD'));\n    setValue(now);\n    setYear(now.year());\n    setMonth(parseInt(now.format('M'), 10));\n  }, []);\n\n  React.useImperativeHandle(ref, () => ({ toCurrent }), [toCurrent]);\n\n  // 月份 select change 事件回调\n  const handleMonthChange = (newMonth: number) => {\n    setMonth(newMonth);\n    onMonthChange({ month: String(newMonth), year: String(year) });\n  };\n\n  // 事件回调处理函数\n  const execCellEvent = useCallback(\n    (event, calendarCell, handleFunc) => {\n      if (handleFunc && typeof handleFunc === 'function') {\n        handleFunc({\n          cell: createCalendarCell(calendarCell),\n          e: event,\n        });\n      }\n    },\n    [createCalendarCell],\n  );\n\n  // 单元格单击\n  const clickCell = (event, calendarCell: CalendarCell) => {\n    setValue(dayjs(calendarCell.formattedDate));\n    execCellEvent(event, calendarCell, onCellClick);\n  };\n\n  // 单元格双击\n  const doubleClickCell = (event, calendarCell: CalendarCell) => {\n    execCellEvent(event, calendarCell, onCellDoubleClick);\n  };\n\n  // 单元格右击\n  const rightClickCell = (event, calendarCell: CalendarCell) => {\n    if (preventCellContextmenu) event.preventDefault();\n    execCellEvent(event, calendarCell, onCellRightClick);\n  };\n\n  // 监听 current 参数\n  useEffect(() => {\n    toCurrent(valueFromProps);\n  }, [valueFromProps, toCurrent]);\n\n  // 监听 month 参数\n  useEffect(() => {\n    if (monthProps) {\n      setMonth(Number(monthProps));\n    }\n  }, [monthProps]);\n\n  // 监听 year 参数\n  useEffect(() => {\n    if (yearProps) {\n      setYear(Number(yearProps));\n    }\n  }, [yearProps]);\n\n  // 监听 mode 参数\n  useEffect(() => {\n    setMode(modeFromProps);\n  }, [modeFromProps]);\n\n  // 监听 isShowWeekend 参数\n  useEffect(() => {\n    setIsShowWeekend(isShowWeekendDefault);\n  }, [isShowWeekendDefault]);\n\n  // 右上角控件组选中值有变化的时候触发\n  useLayoutEffect(() => {\n    onControllerChange(controllerOptions);\n  }, [controllerOptions, onControllerChange]);\n\n  const prefixCls = usePrefixClass();\n  const currentDate = dayjs().format('YYYY-MM-DD');\n  const currentMonth = dayjs().format('YYYY-MM');\n\n  return (\n    <div className={prefixCls(blockName, [blockName, '', theme]).concat(' ', className)} style={style}>\n      {/* 操作部分 */}\n      {visible && (\n        <div className={prefixCls([blockName, 'control'])}>\n          <div className={prefixCls([blockName, 'title'])}>\n            {(() => {\n              if (head && typeof head === 'function') return head(controllerOptions);\n              if (head && typeof head !== 'function') return head;\n            })()}\n          </div>\n          <div className={prefixCls([blockName, 'control-section'])}>\n            {/* 年份选择框 */}\n            <div className={prefixCls([blockName, 'control-section-cell'])}>\n              {visibleForYear && (\n                <Select\n                  autoWidth={true}\n                  size={controlSectionSize}\n                  value={year}\n                  disabled={disabled}\n                  options={yearSelectList.map((item) => ({\n                    label: t(local.yearSelection, { year: item.value }),\n                    value: item.value,\n                    disabled: item.disabled,\n                  }))}\n                  onChange={(selectYear) => setYear(selectYear as number)}\n                  {...selectPropsForYear}\n                />\n              )}\n            </div>\n            {/* 月份选择框 */}\n            <div className={prefixCls([blockName, 'control-section-cell'])}>\n              {visibleForMonth && mode === 'month' && (\n                <Select\n                  autoWidth={true}\n                  size={controlSectionSize}\n                  value={month}\n                  options={monthSelectList.map((item) => ({\n                    label: t(local.monthSelection, { month: item.value }),\n                    value: item.value,\n                    disabled: item.disabled,\n                  }))}\n                  disabled={disabled}\n                  onChange={handleMonthChange}\n                  {...selectPropsForMonth}\n                />\n              )}\n            </div>\n          </div>\n          {/* 模式切换 */}\n          <div className={prefixCls([blockName, 'control-section'])} style={{ height: 'auto' }}>\n            {visibleForMode && (\n              <Radio.Group\n                variant=\"default-filled\"\n                size={controlSectionSize}\n                value={mode}\n                disabled={disabled}\n                onChange={(value) => setMode(value as string)}\n                {...radioGroupPropsForMode}\n              >\n                <Radio.Button value=\"month\">{t(local.monthRadio)}</Radio.Button>\n                <Radio.Button value=\"year\">{t(local.yearRadio)}</Radio.Button>\n              </Radio.Group>\n            )}\n          </div>\n          {/* 周末隐藏显示切换 */}\n          {mode === 'month' && theme === 'full' && visibleForWeekendToggle && (\n            <div className={prefixCls([blockName, 'control-section'])}>\n              <CheckTag\n                className=\"t-calendar__control-tag\"\n                checked={!isShowWeekend}\n                disabled={disabled}\n                size={controlSectionSize}\n                onClick={() => {\n                  setIsShowWeekend(!isShowWeekend);\n                }}\n                {...(isShowWeekend ? hideWeekendButtonProps : showWeekendButtonProps)}\n              >\n                {`${isShowWeekend ? t(local.hideWeekend) : t(local.showWeekend)}`}\n              </CheckTag>\n            </div>\n          )}\n          {/* 回到当前按钮 */}\n          {theme === 'full' && visibleForCurrent && (\n            <div className={prefixCls([blockName, 'control-section'])}>\n              <Button\n                size={controlSectionSize}\n                disabled={disabled}\n                onClick={() => {\n                  toCurrent();\n                }}\n                {...(mode === 'year' ? currentMonthButtonProps : currentDayButtonProps)}\n              >\n                {mode === 'year' ? t(local.thisMonth) : t(local.today)}\n              </Button>\n            </div>\n          )}\n        </div>\n      )}\n      {/* 主体部分 */}\n      <div className={prefixCls([blockName, 'panel'], [blockName, `panel--${mode}`])}>\n        <table className={prefixCls([blockName, 'table'])}>\n          {/* 表头部分 */}\n          {colHeaderList.length > 0 && (\n            <thead className={prefixCls([blockName, 'table-head'])}>\n              <tr className={prefixCls([blockName, 'table-head-row'])}>\n                {colHeaderList.map((item) => (\n                  <th key={item.day} className={prefixCls([blockName, 'table-head-cell'])}>\n                    {week && typeof week === 'function' ? week({ day: item.day }) : item.text}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n          )}\n          {/* month 模式，输出日期 */}\n          {mode === 'month' && (\n            <tbody className={prefixCls([blockName, 'table-body'])}>\n              {dateList.map((dateRow, dateRowIndex) => (\n                <tr key={String(dateRowIndex)} className={prefixCls([blockName, 'table-body-row'])}>\n                  {dateRow.map((dateCell, dateCellIndex) => {\n                    // 若不显示周末，隐藏 day 为 6 或 7 的元素\n                    if (!isShowWeekend && [6, 7].indexOf(dateCell.day) >= 0) return null;\n                    // 其余日期正常显示\n                    const isNow = dateCell.formattedDate === currentDate;\n                    return (\n                      <CalendarCellComp\n                        key={dateCellIndex}\n                        mode={mode}\n                        theme={theme}\n                        cell={cell}\n                        cellData={dateCell}\n                        cellAppend={cellAppend}\n                        fillWithZero={fillWithZero}\n                        isCurrent={dateCell.isCurrent}\n                        isNow={isNow}\n                        isDisabled={dateCell.belongTo !== 0}\n                        createCalendarCell={createCalendarCell}\n                        onCellClick={(event) => clickCell(event, dateCell)}\n                        onCellDoubleClick={(event) => doubleClickCell(event, dateCell)}\n                        onCellRightClick={(event) => rightClickCell(event, dateCell)}\n                      />\n                    );\n                  })}\n                </tr>\n              ))}\n            </tbody>\n          )}\n          {/* year 模式，输出月份 */}\n          {mode === 'year' && (\n            <tbody className={prefixCls([blockName, 'table-body'])}>\n              {monthList.map((monthRow, monthRowIndex) => (\n                <tr key={String(monthRowIndex)} className={prefixCls([blockName, 'table-body-row'])}>\n                  {monthRow.map((monthCell, monthCellIndex) => {\n                    const isNow = monthCell.formattedDate.startsWith(currentMonth);\n                    return (\n                      <CalendarCellComp\n                        key={monthCellIndex}\n                        mode={mode}\n                        theme={theme}\n                        cell={cell}\n                        cellData={monthCell}\n                        cellAppend={cellAppend}\n                        fillWithZero={fillWithZero}\n                        isCurrent={monthCell.isCurrent}\n                        isNow={isNow}\n                        createCalendarCell={createCalendarCell}\n                        onCellClick={(event) => clickCell(event, monthCell)}\n                        onCellDoubleClick={(event) => doubleClickCell(event, monthCell)}\n                        onCellRightClick={(event) => rightClickCell(event, monthCell)}\n                      />\n                    );\n                  })}\n                </tr>\n              ))}\n            </tbody>\n          )}\n        </table>\n      </div>\n    </div>\n  );\n});\n\nCalendar.displayName = 'Calendar';\nCalendar.defaultProps = calendarDefaultProps;\n\nexport default Calendar;\n"],"names":["getDefaultControllerConfigData","visible","disabled","mode","radioGroupProps","year","selectProps","popupProps","overlayInnerStyle","width","month","weekend","showWeekendButtonProps","hideWeekendButtonProps","current","currentDayButtonProps","currentMonthButtonProps","Calendar","forwardRef","props","ref","className","style","modeFromProps","valueFromProps","value","firstDayOfWeek","format","range","head","cell","cellAppend","week","theme","controllerConfig","isShowWeekendDefault","preventCellContextmenu","monthProps","yearProps","onControllerChange","noop","onCellClick","onCellDoubleClick","onCellRightClick","onMonthChange","fillWithZero","controllerConfigData","modeFromConfig","yearFromConfig","monthFromConfig","visibleForMode","radioGroupPropsForMode","visibleForYear","selectPropsForYear","visibleForMonth","selectPropsForMonth","visibleForWeekendToggle","visibleForCurrent","useState","_slicedToArray","setMode","dayjs","setValue","Number","setYear","parseInt","setMonth","isShowWeekend","setIsShowWeekend","useLocaleReceiver","local","t","weekLabelList","split","colHeaderList","useMemo","weekTextArr","Array","isArray","length","_toConsumableArray","list","i","push","day","text","rangeFromTo","v1","v2","isBefore","from","to","controllerOptions","dayJsFilterDate","re","filterDate","toDate","formattedFilterDate","isRangeValid","checkMonthSelectorDisabled","yearIn","monthIn","beginYear","endYear","beginMon","endMon","yearList","monthList","yearBegin","Math","max","minYear","yearEnd","yearSelectList","monthSelectList","dateList","createDateList","createMonthList","createCalendarCell","useCallback","cellData","toCurrent","valueIn","now","isValid","React","useImperativeHandle","handleMonthChange","newMonth","String","execCellEvent","event","calendarCell","handleFunc","e","clickCell","formattedDate","doubleClickCell","rightClickCell","preventDefault","useEffect","useLayoutEffect","prefixCls","usePrefixClass","currentDate","currentMonth","createElement","blockName","concat","Select","autoWidth","size","controlSectionSize","options","map","item","label","yearSelection","onChange","selectYear","monthSelection","height","Radio","Group","variant","Button","monthRadio","yearRadio","CheckTag","checked","onClick","hideWeekend","showWeekend","thisMonth","today","key","dateRow","dateRowIndex","dateCell","dateCellIndex","indexOf","isNow","CalendarCellComp","isCurrent","isDisabled","belongTo","monthRow","monthRowIndex","monthCell","monthCellIndex","startsWith","displayName","defaultProps","calendarDefaultProps"],"mappings":"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"}