{"version":3,"file":"Col.js","sources":["../../src/grid/Col.tsx"],"sourcesContent":["import React, { useContext, forwardRef } from 'react';\nimport classNames from 'classnames';\nimport isObject from 'lodash/isObject';\nimport useConfig from '../hooks/useConfig';\nimport { StyledProps } from '../common';\nimport { TdColProps, TdRowProps } from './type';\nimport { colDefaultProps } from './defaultProps';\nimport { RowContext } from './Row';\n\ntype FlexType = number | 'none' | 'auto' | string;\n\nexport interface ColProps extends TdColProps, StyledProps {\n  /**\n   * 文本内容\n   */\n  children?: React.ReactNode;\n}\n\nconst calcColPadding = (gutter: TdRowProps['gutter'], currentSize: string) => {\n  const paddingObj = {};\n  if (typeof gutter === 'number') {\n    Object.assign(paddingObj, {\n      paddingLeft: `${gutter / 2}px`,\n      paddingRight: `${gutter / 2}px`,\n    });\n  } else if (Array.isArray(gutter) && gutter.length) {\n    if (typeof gutter[0] === 'number') {\n      Object.assign(paddingObj, {\n        paddingLeft: `${gutter[0] / 2}px`,\n        paddingRight: `${gutter[0] / 2}px`,\n      });\n    }\n\n    if (isObject(gutter[0]) && gutter[0][currentSize]) {\n      Object.assign(paddingObj, {\n        paddingLeft: `${gutter[0][currentSize] / 2}px`,\n        paddingRight: `${gutter[0][currentSize] / 2}px`,\n      });\n    }\n  } else if (isObject(gutter) && gutter[currentSize]) {\n    Object.assign(paddingObj, {\n      paddingLeft: `${gutter[currentSize] / 2}px`,\n      paddingRight: `${gutter[currentSize] / 2}px`,\n    });\n  }\n  return paddingObj;\n};\n\nconst parseFlex = (flex: FlexType) => {\n  if (typeof flex === 'number') {\n    return `${flex} ${flex} auto`;\n  }\n\n  if (/^\\d+(\\.\\d+)?(px|r?em|%)$/.test(flex)) {\n    return `0 0 ${flex}`;\n  }\n\n  return flex;\n};\n\nconst Col = forwardRef((props: ColProps | any, ref) => {\n  const { flex, offset, order, pull, push, span, tag, className, children, style: propStyle, ...otherColProps } = props;\n  const { gutter: rowGutter, size: rowSize } = useContext(RowContext);\n\n  const { classPrefix } = useConfig();\n  const allSizes = ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'];\n  const sizeClasses = allSizes.reduce((acc, currSize) => {\n    const sizeProp = props[currSize];\n    let sizeObj: any = {};\n    if (typeof sizeProp === 'number') {\n      sizeObj.span = sizeProp;\n    } else if (isObject(sizeProp)) {\n      sizeObj = sizeProp || {};\n    }\n\n    return {\n      ...acc,\n      [`${classPrefix}-col-${currSize}-${sizeObj.span}`]: sizeObj.span !== undefined,\n      [`${classPrefix}-col-${currSize}-order-${sizeObj.order}`]: parseInt(sizeObj.order, 10) >= 0,\n      [`${classPrefix}-col-${currSize}-offset-${sizeObj.offset}`]: parseInt(sizeObj.offset, 10) >= 0,\n      [`${classPrefix}-col-${currSize}-push-${sizeObj.push}`]: parseInt(sizeObj.push, 10) >= 0,\n      [`${classPrefix}-col-${currSize}-pull-${sizeObj.pull}`]: parseInt(sizeObj.pull, 10) >= 0,\n    };\n  }, {});\n\n  const colClassNames = classNames(\n    `${classPrefix}-col`,\n    className,\n    {\n      [`${classPrefix}-col-${span}`]: span !== undefined,\n      [`${classPrefix}-col-offset-${offset}`]: parseInt(offset, 10) >= 0,\n      [`${classPrefix}-col-pull-${pull}`]: parseInt(pull, 10) >= 0,\n      [`${classPrefix}-col-push-${push}`]: parseInt(push, 10) >= 0,\n      [`${classPrefix}-col-order-${order}`]: parseInt(order, 10) >= 0,\n    },\n    sizeClasses,\n  );\n\n  const colStyle = {\n    ...calcColPadding(rowGutter, rowSize),\n    ...propStyle,\n  };\n  flex && (colStyle.flex = parseFlex(flex));\n\n  return React.createElement(\n    tag,\n    {\n      ref,\n      className: colClassNames,\n      style: colStyle,\n      ...otherColProps,\n    },\n    children,\n  );\n});\n\nCol.displayName = 'Col';\nCol.defaultProps = colDefaultProps;\n\nexport default Col;\n"],"names":["calcColPadding","gutter","currentSize","paddingObj","Object","assign","paddingLeft","paddingRight","Array","isArray","length","isObject","parseFlex","flex","test","Col","forwardRef","props","ref","offset","order","pull","push","span","tag","className","children","propStyle","style","otherColProps","useContext","RowContext","rowGutter","rowSize","size","useConfig","classPrefix","allSizes","sizeClasses","reduce","acc","currSize","sizeProp","sizeObj","parseInt","_defineProperty","colClassNames","classNames","colStyle","React","createElement","displayName","defaultProps","colDefaultProps"],"mappings":"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"}