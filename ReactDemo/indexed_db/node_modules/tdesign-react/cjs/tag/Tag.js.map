{"version":3,"file":"Tag.js","sources":["../../src/tag/Tag.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { CloseIcon as TdCloseIcon } from 'tdesign-icons-react';\nimport noop from '../_util/noop';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport { StyledProps } from '../common';\nimport { TdTagProps } from './type';\nimport CheckTag from './CheckTag';\nimport { tagDefaultProps } from './defaultProps';\n\n/**\n * Tag 组件支持的属性。\n */\nexport interface TagProps extends TdTagProps, StyledProps {\n  /**\n   * 标签内容\n   */\n  children?: React.ReactNode;\n}\n\n/**\n * 标签组件\n */\nconst Tag = forwardRefWithStatics(\n  (props: TagProps, ref: React.Ref<HTMLSpanElement>) => {\n    const {\n      theme,\n      size,\n      shape,\n      variant,\n      closable,\n      maxWidth,\n      icon,\n      content,\n      onClick = noop,\n      onClose = noop,\n      className,\n      style,\n      disabled,\n      children,\n      ...otherTagProps\n    } = props;\n\n    const { classPrefix } = useConfig();\n    const { CloseIcon } = useGlobalIcon({\n      CloseIcon: TdCloseIcon,\n    });\n    const tagClassPrefix = `${classPrefix}-tag`;\n\n    const sizeMap = {\n      large: `${classPrefix}-size-l`,\n      small: `${classPrefix}-size-s`,\n    };\n\n    const tagClassNames = classNames(\n      tagClassPrefix,\n      `${tagClassPrefix}--${theme}`,\n      `${tagClassPrefix}--${variant}`,\n      `${tagClassPrefix}--${size}`,\n      `${tagClassPrefix}--${shape}`,\n      {\n        [`${tagClassPrefix}--ellipsis`]: !!maxWidth,\n        [`${tagClassPrefix}--disabled`]: disabled,\n      },\n      sizeMap[size],\n      className,\n    );\n\n    /**\n     * 删除 Icon\n     */\n    const deleteIcon = (\n      <CloseIcon\n        onClick={(e) => {\n          if (disabled) return;\n          onClose({ e });\n        }}\n        className={`${tagClassPrefix}__icon-close`}\n      />\n    );\n\n    const tag: JSX.Element = (\n      <span\n        ref={ref}\n        className={tagClassNames}\n        onClick={(e) => {\n          if (disabled) return;\n          onClick({ e });\n        }}\n        style={maxWidth ? { maxWidth: typeof maxWidth === 'number' ? `${maxWidth}px` : maxWidth, ...style } : style}\n        {...otherTagProps}\n      >\n        {icon}\n        {maxWidth ? <span className={`${tagClassPrefix}--text`}>{children || content}</span> : children || content}\n        {closable && deleteIcon}\n      </span>\n    );\n\n    return tag;\n  },\n  {\n    CheckTag,\n  },\n);\n\nTag.displayName = 'Tag';\nTag.defaultProps = tagDefaultProps;\n\nexport default Tag;\n"],"names":["Tag","forwardRefWithStatics","props","ref","theme","size","shape","variant","closable","maxWidth","icon","content","onClick","noop","onClose","className","style","disabled","children","otherTagProps","useConfig","classPrefix","useGlobalIcon","CloseIcon","TdCloseIcon","tagClassPrefix","sizeMap","large","small","tagClassNames","classNames","deleteIcon","React","createElement","e","tag","CheckTag","displayName","defaultProps","tagDefaultProps"],"mappings":"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"}