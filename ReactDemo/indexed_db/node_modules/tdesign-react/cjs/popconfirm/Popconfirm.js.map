{"version":3,"file":"Popconfirm.js","sources":["../../src/popconfirm/Popconfirm.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport Popup, { PopupRef } from '../popup';\nimport useConfig from '../hooks/useConfig';\nimport useControlled from '../hooks/useControlled';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TdPopconfirmProps, PopconfirmVisibleChangeContext } from './type';\nimport Popcontent from './Popcontent';\nimport { popconfirmDefaultProps } from './defaultProps';\n\nexport type PopconfirmProps = TdPopconfirmProps;\n\nconst Popconfirm = forwardRef((props: PopconfirmProps, ref: React.RefObject<PopupRef>) => {\n  const { classPrefix } = useConfig();\n  const [local, t] = useLocaleReceiver('popconfirm');\n\n  const cancelContent = typeof local.cancel === 'string' ? local.cancel : local.cancel.content;\n  const confirmContent = typeof local.confirm === 'string' ? local.confirm : local.confirm.content;\n  const { cancelBtn = t(cancelContent), confirmBtn = t(confirmContent) } = props;\n  const [visible, setVisible] = useControlled(props, 'visible', props.onVisibleChange);\n\n  return (\n    <Popup\n      ref={ref}\n      {...props}\n      visible={visible}\n      trigger=\"click\"\n      onVisibleChange={(visible) => setVisible(visible)}\n      overlayClassName={classNames(`${classPrefix}-popconfirm`)}\n      content={\n        <Popcontent\n          cancelBtn={cancelBtn}\n          confirmBtn={confirmBtn}\n          {...props}\n          onClose={(context: PopconfirmVisibleChangeContext) => setVisible(false, context)}\n        />\n      }\n      {...props.popupProps}\n    />\n  );\n});\n\nPopconfirm.displayName = 'Popconfirm';\nPopconfirm.defaultProps = popconfirmDefaultProps;\n\nexport default Popconfirm;\n"],"names":["Popconfirm","forwardRef","props","ref","useConfig","classPrefix","useLocaleReceiver","_slicedToArray","local","t","cancelContent","cancel","content","confirmContent","confirm","cancelBtn","confirmBtn","useControlled","onVisibleChange","visible","setVisible","React","createElement","Popup","trigger","overlayClassName","classNames","Popcontent","onClose","context","popupProps","displayName","defaultProps","popconfirmDefaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYMA,IAAAA,UAAa,gBAAAC,gBAAA,CAAW,UAACC,KAAD,EAAyBC,GAAzB,EAA4D;AAClF,EAAA,IAAA,UAAA,GAAkBC,0BAAU,EAA5B;MAAEC,WAAF,cAAEA,WAAF,CAAA;;EACN,IAAmBC,kBAAAA,GAAAA,uCAAkB,aAArC;AAAA,MAAA,mBAAA,GAAAC,4BAAA,CAAA,kBAAA,EAAA,CAAA,CAAA;AAAA,MAAOC,KAAP,GAAA,mBAAA,CAAA,CAAA,CAAA;AAAA,MAAcC,CAAd,GAAA,mBAAA,CAAA,CAAA,CAAA,CAAA;;AAEM,EAAA,IAAAC,aAAA,GAAgB,OAAOF,KAAM,CAAAG,MAAb,KAAwB,QAAxB,GAAmCH,KAAM,CAAAG,MAAzC,GAAkDH,MAAMG,MAAN,CAAaC,OAA/E,CAAA;AACA,EAAA,IAAAC,cAAA,GAAiB,OAAOL,KAAM,CAAAM,OAAb,KAAyB,QAAzB,GAAoCN,KAAM,CAAAM,OAA1C,GAAoDN,MAAMM,OAAN,CAAcF,OAAnF,CAAA;EACA,IAAmEV,gBAAAA,GAAAA,KAAnE,CAAEa,SAAF;AAAA,MAAEA,SAAF,GAAA,gBAAA,KAAA,KAAA,CAAA,GAAcN,CAAE,CAAAC,aAAA,CAAhB,GAAA,gBAAA;MAAmER,iBAAAA,GAAAA,KAAnE,CAAgCc,UAAhC;AAAA,MAAgCA,UAAhC,GAAA,iBAAA,KAAA,KAAA,CAAA,GAA6CP,CAAA,CAAEI,cAAF,CAA7C,GAAA,iBAAA,CAAA;;EACA,IAAwBI,cAAAA,GAAAA,+BAAcf,OAAO,WAAWA,MAAMgB,gBAA9D;AAAA,MAAA,eAAA,GAAAX,4BAAA,CAAA,cAAA,EAAA,CAAA,CAAA;AAAA,MAACY,OAAD,GAAA,eAAA,CAAA,CAAA,CAAA;AAAA,MAAUC,UAAV,GAAA,eAAA,CAAA,CAAA,CAAA,CAAA;;AAEN,EAAA,sBACGC,yBAAA,CAAAC,aAAA,CAAAC,iBAAA,EAAA,aAAA,CAAA,aAAA,CAAA;AACCpB,IAAAA,GAAA,EAAAA,GAAAA;AADD,GAAA,EAEKD,KAFL,CAAA,EAAA,EAAA,EAAA;AAGCiB,IAAAA,OAAA,EAAAA,OAHD;AAICK,IAAAA,OAAQ,EAAA,OAJT;IAKCN,eAAiB,EAAA,yBAACC,QAAD,EAAA;MAAA,OAAaC,UAAA,CAAWD,QAAX,CAAb,CAAA;KALlB;AAMCM,IAAAA,gBAAA,EAAkBC,8BAAW,CAAGrB,EAAAA,CAAAA,MAAAA,CAAAA,WAAH,EAN9B,aAAA,CAAA,CAAA;AAOCO,IAAAA,wBACGS,yBAAA,CAAAC,aAAA,CAAAK,gCAAA,EAAA,aAAA,CAAA,aAAA,CAAA;AACCZ,MAAAA,SAAA,EAAAA,SADD;AAECC,MAAAA,UAAA,EAAAA,UAAAA;AAFD,KAAA,EAGKd,KAHL,CAAA,EAAA,EAAA,EAAA;MAIC0B,OAAS,EAAA,iBAACC,OAAD,EAAA;AAAA,QAAA,OAA6CT,UAAA,CAAW,KAAX,EAAkBS,OAAlB,CAA7C,CAAA;AAAA,OAAA;AAJV,KAAA,CAAA,CAAA;GAOC3B,EAAAA,KAAM,CAAA4B,UAfX,CADH,CAAA,CAAA;AAmBD,CA5BkB,EAAnB;AA8BA9B,UAAA,CAAW+B,WAAX,GAAyB,YAAzB,CAAA;AACA/B,UAAA,CAAWgC,YAAX,GAA0BC,8CAA1B;;;;"}