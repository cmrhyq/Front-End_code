{"version":3,"file":"number.js","sources":["../../src/_util/number.ts"],"sourcesContent":["/**\n ** 加法函数，用来得到精确的加法结果\n ** 说明：javascript 的加法结果会有误差，在两个浮点数相加的时候会比较明显。这个函数返回较为精确的加法结果。\n ** 调用：accAdd(num1,num2)\n ** 返回值：num1 加上num2 的精确结果\n * */\nexport function accAdd(num1: number, num2: number) {\n  const isFloat = (n: number) => typeof n === 'number' && !Number.isInteger(n);\n\n  if (isFloat(num1) && isFloat(num2)) {\n    const [integer1, precision1] = String(num1).split('.');\n    const [integer2, precision2] = String(num2).split('.');\n\n    // 获取两个浮点数的最长精度\n    const maxPrecisionLen = Math.max(precision1.length, precision2.length);\n    // 对齐小数部分的精度长度\n    const wholePrecision1 = Number(precision1.padEnd(maxPrecisionLen, '0'));\n    const wholePrecision2 = Number(precision2.padEnd(maxPrecisionLen, '0'));\n\n    // 小数部分转化成整数相加之后除以精度最长的 10 的倍数\n    const precisionVal = (wholePrecision1 + wholePrecision2) / 10 ** maxPrecisionLen;\n    const integerVal = Number(integer1) + Number(integer2);\n\n    return integerVal + precisionVal;\n  }\n\n  return num1 + num2;\n}\n"],"names":["accAdd","num1","num2","isFloat","n","Number","isInteger","String","split","_slicedToArray","integer1","precision1","integer2","precision2","maxPrecisionLen","Math","max","length","wholePrecision1","padEnd","wholePrecision2","precisionVal","integerVal"],"mappings":";;;;;;;;;;;;;AAMgB,SAAAA,MAAA,CAAOC,IAAP,EAAqBC,IAArB,EAAmC;AAC3C,EAAA,IAAAC,OAAA,GAAU,SAAVA,OAAU,CAACC,CAAD,EAAA;IAAA,OAAe,OAAOA,CAAP,KAAa,QAAb,IAAyB,CAACC,MAAO,CAAAC,SAAP,CAAiBF,CAAjB,CAAzC,CAAA;GAAV,CAAA;;EAEN,IAAID,OAAQ,CAAAF,IAAA,CAAR,IAAiBE,OAAA,CAAQD,IAAR,CAArB,EAAoC;IAC5B,IAAyBK,aAAAA,GAAAA,OAAON,KAAP,CAAaO,KAAb,CAAmB,GAAnB,CAAzB;AAAA,QAAA,cAAA,GAAAC,4BAAA,CAAA,aAAA,EAAA,CAAA,CAAA;AAAA,QAACC,QAAD,GAAA,cAAA,CAAA,CAAA,CAAA;AAAA,QAAWC,UAAX,GAAA,cAAA,CAAA,CAAA,CAAA,CAAA;;IACA,IAAyBJ,cAAAA,GAAAA,OAAOL,KAAP,CAAaM,KAAb,CAAmB,GAAnB,CAAzB;AAAA,QAAA,cAAA,GAAAC,4BAAA,CAAA,cAAA,EAAA,CAAA,CAAA;AAAA,QAACG,QAAD,GAAA,cAAA,CAAA,CAAA,CAAA;AAAA,QAAWC,UAAX,GAAA,cAAA,CAAA,CAAA,CAAA,CAAA;;AAGN,IAAA,IAAMC,kBAAkBC,IAAK,CAAAC,GAAL,CAASL,UAAW,CAAAM,MAApB,EAA4BJ,WAAWI,MAAvC,CAAxB,CAAA;AAEA,IAAA,IAAMC,kBAAkBb,MAAO,CAAAM,UAAA,CAAWQ,MAAX,CAAkBL,eAAlB,EAAmC,GAAnC,CAAA,CAA/B,CAAA;AACA,IAAA,IAAMM,kBAAkBf,MAAO,CAAAQ,UAAA,CAAWM,MAAX,CAAkBL,eAAlB,EAAmC,GAAnC,CAAA,CAA/B,CAAA;IAGM,IAAAO,YAAA,GAAA,CAAgBH,eAAkB,GAAAE,eAAlC,IAAqD,IAAA,CAAA,GAAA,CAAA,EAArD,EAA2DN,eAA3D,CAAA,CAAA;IACN,IAAMQ,UAAa,GAAAjB,MAAA,CAAOK,QAAP,CAAA,GAAmBL,OAAOO,SAA7C,CAAA;IAEA,OAAOU,UAAa,GAAAD,YAApB,CAAA;AACF,GAAA;;EAEA,OAAOpB,IAAO,GAAAC,IAAd,CAAA;AACF;;;;"}