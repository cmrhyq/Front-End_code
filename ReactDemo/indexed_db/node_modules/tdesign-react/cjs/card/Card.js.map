{"version":3,"file":"Card.js","sources":["../../src/card/Card.tsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\n\nimport { TdCardProps } from './type';\nimport Loading from '../loading';\nimport { StyledProps } from '../common';\n\nimport useConfig from '../hooks/useConfig';\nimport useCommonClassName from '../_util/useCommonClassName';\nimport { cardDefaultProps } from './defaultProps';\n\nexport interface CardProps extends TdCardProps, StyledProps {}\n\nconst Card = forwardRef((props: CardProps, ref: React.Ref<HTMLDivElement>) => {\n  const {\n    actions,\n    avatar,\n    bordered,\n    children,\n    className,\n    cover,\n    description,\n    footer,\n    header,\n    headerBordered,\n    hoverShadow,\n    loading,\n    shadow,\n    size,\n    style,\n    subtitle,\n    title,\n    theme,\n    status,\n  } = props;\n\n  const { classPrefix } = useConfig();\n  const commonClassNames = useCommonClassName();\n  // 是否为海报风格2\n  const isPoster2 = theme === 'poster2';\n\n  const cardClass = classNames(`${classPrefix}-card`, className, {\n    [commonClassNames.SIZE.small]: size === 'small',\n    [`${classPrefix}-card--bordered`]: bordered,\n    [`${classPrefix}--shadow`]: shadow,\n    [`${classPrefix}-card--shadow-hover`]: hoverShadow,\n  });\n\n  const showHeader =\n    header || title || subtitle || description || avatar || (actions && !isPoster2) || (status && isPoster2);\n\n  const headerClass = classNames({\n    [`${classPrefix}-card__header`]: showHeader,\n    [`${classPrefix}-card__title--bordered`]: headerBordered,\n  });\n\n  const titleClass = classNames({\n    [`${classPrefix}-card__title`]: title,\n  });\n\n  const subtitleClass = classNames({\n    [`${classPrefix}-card__subtitle`]: subtitle,\n  });\n\n  const actionClass = classNames({\n    [`${classPrefix}-card__actions`]: actions,\n  });\n\n  const footerClass = classNames({\n    [`${classPrefix}-card__footer`]: footer,\n  });\n\n  const coverClass = classNames({\n    [`${classPrefix}-card__cover`]: cover,\n  });\n\n  const avatarClass = classNames({\n    [`${classPrefix}-card__avatar`]: avatar,\n  });\n\n  const bodyClass = classNames({\n    [`${classPrefix}-card__body`]: children,\n  });\n\n  const descriptionClass = classNames({\n    [`${classPrefix}-card__description`]: description,\n  });\n\n  const renderTitle = title ? <span className={titleClass}>{title}</span> : null;\n\n  const renderSubtitle = subtitle ? <span className={subtitleClass}>{subtitle}</span> : null;\n\n  const renderDescription = description ? <p className={descriptionClass}>{description}</p> : null;\n\n  const renderAvatar = avatar && <div className={avatarClass}>{avatar}</div>;\n\n  const renderHeaderActions = actions && !isPoster2 && <div className={actionClass}>{actions}</div>;\n  const renderFooterActions = actions && isPoster2 && <div className={actionClass}>{actions}</div>;\n\n  const renderStatus = status && isPoster2 && <div className={actionClass}>{status}</div>;\n\n  const renderHeader = () => {\n    if (header) return <div className={headerClass}>{header}</div>;\n    return (\n      <div className={headerClass}>\n        <div className={`${classPrefix}-card__header-wrapper`}>\n          {renderAvatar}\n          <div>\n            {renderTitle}\n            {renderSubtitle}\n            {renderDescription}\n          </div>\n        </div>\n        {renderHeaderActions}\n        {renderStatus}\n      </div>\n    );\n  };\n\n  const renderCover = cover ? (\n    <div className={coverClass}>{typeof cover === 'string' ? <img src={cover} alt=\"\"></img> : cover}</div>\n  ) : null;\n\n  const renderChildren = children && <div className={bodyClass}>{children}</div>;\n\n  const renderFooter = footer && (\n    <div className={footerClass}>\n      <div className={`${classPrefix}-card__footer-wrapper`}>{footer}</div>\n      {renderFooterActions}\n    </div>\n  );\n\n  if (loading) {\n    return (\n      <Loading>\n        <div className={cardClass}></div>\n      </Loading>\n    );\n  }\n\n  return (\n    <div ref={ref} className={cardClass} style={style}>\n      {showHeader ? renderHeader() : null}\n      {renderCover}\n      {renderChildren}\n      {renderFooter}\n    </div>\n  );\n});\n\nCard.displayName = 'Card';\nCard.defaultProps = cardDefaultProps;\n\nexport default Card;\n"],"names":["Card","forwardRef","props","ref","actions","avatar","bordered","children","className","cover","description","footer","header","headerBordered","hoverShadow","loading","shadow","size","style","subtitle","title","theme","status","useConfig","classPrefix","commonClassNames","useCommonClassName","isPoster2","cardClass","classNames","_defineProperty","SIZE","small","showHeader","headerClass","titleClass","subtitleClass","actionClass","footerClass","coverClass","avatarClass","bodyClass","descriptionClass","renderTitle","React","createElement","renderSubtitle","renderDescription","renderAvatar","renderHeaderActions","renderFooterActions","renderStatus","renderHeader","renderCover","src","alt","renderChildren","renderFooter","Loading","displayName","defaultProps","cardDefaultProps"],"mappings":"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"}