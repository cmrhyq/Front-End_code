{"version":3,"file":"useInputNumber.js","sources":["../../src/input-number/useInputNumber.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../hooks/useConfig';\nimport useControlled from '../hooks/useControlled';\nimport useCommonClassName from '../_util/useCommonClassName';\nimport { InputNumberValue, TdInputNumberProps } from './type';\n// 计算逻辑，统一到 common 中，方便各框架复用（如超过 16 位的大数处理）\nimport {\n  canAddNumber,\n  canInputNumber,\n  canReduceNumber,\n  formatToNumber,\n  getMaxOrMinValidateResult,\n  getStepValue,\n} from '../_common/js/input-number/number';\n\n/**\n * 独立一个组件 Hook 方便用户直接使用相关逻辑 自定义任何样式的数字输入框\n */\nexport default function useInputNumber<T extends InputNumberValue = InputNumberValue>(props: TdInputNumberProps<T>) {\n  const { SIZE, STATUS } = useCommonClassName();\n  const { classPrefix } = useConfig();\n  const [value, onChange] = useControlled(props, 'value', props.onChange);\n  const [userInput, setUserInput] = useState('');\n  const [displayValue, setDisplayValue] = useState('');\n  const [isError, setIsError] = useState<'exceed-maximum' | 'below-minimum'>();\n\n  const inputRef = useRef(null);\n\n  const { max, min, largeNumber, onValidate } = props;\n\n  const disabledReduce = props.disabled || !canReduceNumber(value, props.min, props.largeNumber);\n  const disabledAdd = props.disabled || !canAddNumber(value, props.max, props.largeNumber);\n\n  const wrapClasses = classNames(`${classPrefix}-input-number`, SIZE[props.size], {\n    [STATUS.disabled]: props.disabled,\n    [`${classPrefix}-is-controls-right`]: props.theme === 'column',\n    [`${classPrefix}-input-number--${props.theme}`]: props.theme,\n    [`${classPrefix}-input-number--auto-width`]: props.autoWidth,\n  });\n\n  const reduceClasses = classNames(`${classPrefix}-input-number__decrease`, { [STATUS.disabled]: disabledReduce });\n  const addClasses = classNames(`${classPrefix}-input-number__increase`, { [STATUS.disabled]: disabledAdd });\n\n  const getUserInput = (value: InputNumberValue) => {\n    if (!value && value !== 0) return '';\n    let inputStr = String(value);\n    if (!inputRef.current.currentElement.contains?.(document.activeElement)) {\n      inputStr = String(\n        formatToNumber(inputStr, {\n          decimalPlaces: props.decimalPlaces,\n          largeNumber: props.largeNumber,\n        }),\n      );\n      if (props.format) {\n        inputStr = String(props.format(value, { fixedNumber: inputStr }));\n      }\n    }\n    return inputStr;\n  };\n\n  useEffect(() => {\n    const inputValue = [undefined, null].includes(value) ? '' : String(value);\n    setUserInput(getUserInput(inputValue));\n    // eslint-disable-next-line\n  }, [value]);\n\n  useEffect(() => {\n    // @ts-ignore\n    if ([undefined, '', null].includes(value)) return;\n    const error = getMaxOrMinValidateResult({\n      value: value as InputNumberValue,\n      max,\n      min,\n      largeNumber,\n    });\n    setIsError(error);\n    onValidate?.({ error });\n  }, [value, max, min, largeNumber, onValidate]);\n\n  const handleStepValue = (op: 'add' | 'reduce') =>\n    getStepValue({\n      op,\n      step: props.step,\n      max: props.max,\n      min: props.min,\n      lastValue: value as InputNumberValue,\n      largeNumber: props.largeNumber,\n    }) as T;\n\n  const handleReduce = (e: any) => {\n    if (disabledReduce || props.readonly) return;\n    const newValue = handleStepValue('reduce');\n    onChange(newValue, { type: 'reduce', e });\n  };\n\n  const handleAdd = (e: any) => {\n    if (disabledAdd || props.readonly) return;\n    const newValue = handleStepValue('add');\n    onChange(newValue, { type: 'add', e });\n  };\n\n  const onInnerInputChange = (val: string, ctx: { e: any }) => {\n    if (!canInputNumber(val, props.largeNumber)) return;\n    setUserInput(val);\n    const isDelete = ctx.e.inputType === 'deleteContentBackward';\n    // 大数-字符串；普通数-数字。此处是了将 2e3，2.1e3 等内容转换为数字\n    const newVal = isDelete || props.largeNumber || !val ? val : Number(val);\n    if (newVal !== value && !['-', '.', 'e', 'E'].includes(val.slice(-1))) {\n      onChange(newVal as T, { type: 'input', e: ctx.e });\n    }\n  };\n\n  const handleBlur = (value: string, ctx: { e: React.FocusEvent<HTMLDivElement, Element> }) => {\n    setUserInput(getUserInput(value));\n    const newValue = formatToNumber(value, {\n      decimalPlaces: props.decimalPlaces,\n      largeNumber: props.largeNumber,\n    });\n    if (newValue !== value && String(newValue) !== value) {\n      onChange(newValue as T, { type: 'blur', e: ctx.e });\n    }\n    props.onBlur?.(newValue, ctx);\n  };\n\n  const handleFocus = (_: string, ctx: { e: React.FocusEvent<HTMLDivElement, Element> }) => {\n    setUserInput(value as string);\n    props.onFocus?.(value as string, ctx);\n  };\n\n  const handleKeydown = (value: string, ctx: { e: React.KeyboardEvent<HTMLDivElement> }) => {\n    const { e } = ctx;\n    const keyEvent = {\n      ArrowUp: handleAdd,\n      ArrowDown: handleReduce,\n    };\n    const code = e.code || e.key;\n    if (keyEvent[code] !== undefined) {\n      keyEvent[code](e);\n    }\n    props.onKeydown?.(value, ctx);\n  };\n\n  const handleKeyup = (value: string, ctx: { e: React.KeyboardEvent<HTMLDivElement> }) => {\n    props.onKeyup?.(value, ctx);\n  };\n\n  const handleKeypress = (value: string, ctx: { e: React.KeyboardEvent<HTMLDivElement> }) => {\n    props.onKeypress?.(value, ctx);\n  };\n\n  const handleEnter = (value: string, ctx: { e: React.KeyboardEvent<HTMLDivElement> }) => {\n    setUserInput(getUserInput(value));\n    const newValue = formatToNumber(value, {\n      decimalPlaces: props.decimalPlaces,\n      largeNumber: props.largeNumber,\n    });\n    if (newValue !== value && String(newValue) !== value) {\n      onChange(newValue as T, { type: 'enter', e: ctx.e });\n    }\n    props.onEnter?.(newValue, ctx);\n  };\n\n  const focus = () => {\n    inputRef.current.focus();\n  };\n\n  const blur = () => {\n    inputRef.current.blur();\n  };\n\n  const listeners = {\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onKeydown: handleKeydown,\n    onKeyup: handleKeyup,\n    onKeypress: handleKeypress,\n    onEnter: handleEnter,\n    onClick: focus,\n  };\n\n  return {\n    classPrefix,\n    wrapClasses,\n    reduceClasses,\n    addClasses,\n    inputRef,\n    listeners,\n    displayValue,\n    setDisplayValue,\n    isError,\n    setIsError,\n    userInput,\n    setUserInput,\n    value,\n    focus,\n    blur,\n    onChange,\n    handleReduce,\n    handleAdd,\n    onInnerInputChange,\n  };\n}\n"],"names":["useInputNumber","props","useCommonClassName","SIZE","STATUS","useConfig","classPrefix","useControlled","onChange","_slicedToArray","value","useState","userInput","setUserInput","displayValue","setDisplayValue","isError","setIsError","inputRef","useRef","max","min","largeNumber","onValidate","disabledReduce","disabled","canReduceNumber","disabledAdd","canAddNumber","wrapClasses","classNames","size","_defineProperty","theme","autoWidth","reduceClasses","addClasses","getUserInput","inputStr","String","current","currentElement","contains","document","activeElement","formatToNumber","decimalPlaces","format","fixedNumber","useEffect","inputValue","includes","error","getMaxOrMinValidateResult","handleStepValue","op","getStepValue","step","lastValue","handleReduce","e","readonly","newValue","type","handleAdd","onInnerInputChange","val","ctx","canInputNumber","isDelete","inputType","newVal","Number","slice","handleBlur","onBlur","handleFocus","_","onFocus","handleKeydown","keyEvent","ArrowUp","ArrowDown","code","key","onKeydown","handleKeyup","onKeyup","handleKeypress","onKeypress","handleEnter","onEnter","focus","blur","listeners","onClick"],"mappings":"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"}