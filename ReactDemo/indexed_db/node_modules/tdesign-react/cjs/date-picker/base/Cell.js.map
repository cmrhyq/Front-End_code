{"version":3,"file":"Cell.js","sources":["../../../src/date-picker/base/Cell.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../../hooks/useConfig';\nimport { extractTimeObj } from '../../_common/js/date-picker/utils';\n\nexport interface DatePickerCellProps {\n  time?: string;\n  text: [string, number];\n  value: Date;\n  active: boolean;\n  highlight: boolean;\n  disabled: boolean;\n  startOfRange: boolean;\n  endOfRange: boolean;\n  hoverHighlight: boolean;\n  hoverStartOfRange: boolean;\n  hoverEndOfRange: boolean;\n  additional: boolean;\n  weekOfYear: boolean;\n  now: boolean;\n  firstDayOfMonth: boolean;\n  lastDayOfMonth: boolean;\n  onClick: Function;\n  onMouseEnter: Function;\n}\n\nconst DatePickerCell = (props: DatePickerCellProps) => {\n  const { classPrefix } = useConfig();\n\n  const cellClass = classNames(`${classPrefix}-date-picker__cell`, {\n    [`${classPrefix}-date-picker__cell--now`]: props.now,\n    [`${classPrefix}-date-picker__cell--active`]: props.active,\n    [`${classPrefix}-date-picker__cell--disabled`]: props.disabled,\n    [`${classPrefix}-date-picker__cell--highlight`]: props.highlight,\n    [`${classPrefix}-date-picker__cell--hover-highlight`]: props.hoverHighlight,\n    [`${classPrefix}-date-picker__cell--active-start`]: props.startOfRange,\n    [`${classPrefix}-date-picker__cell--active-end`]: props.endOfRange,\n    [`${classPrefix}-date-picker__cell--hover-start`]: props.hoverStartOfRange,\n    [`${classPrefix}-date-picker__cell--hover-end`]: props.hoverEndOfRange,\n    [`${classPrefix}-date-picker__cell--additional`]: props.additional,\n    [`${classPrefix}-date-picker__cell--first-day-of-month`]: props.firstDayOfMonth,\n    [`${classPrefix}-date-picker__cell--last-day-of-month`]: props.lastDayOfMonth,\n    [`${classPrefix}-date-picker__cell--week-of-year`]: props.weekOfYear,\n  });\n\n  function handleClick(e: React.MouseEvent) {\n    if (props.disabled) return;\n    if (props.time) {\n      const { hours, minutes, seconds, milliseconds, meridiem } = extractTimeObj(props.time);\n      // am pm 12小时制转化 24小时制\n      let nextHours = hours;\n      if (/am/i.test(meridiem) && nextHours === 12) nextHours -= 12;\n      if (/pm/i.test(meridiem) && nextHours < 12) nextHours += 12;\n      props.value.setHours(nextHours);\n      props.value.setMinutes(minutes);\n      props.value.setSeconds(seconds);\n      props.value.setMilliseconds(milliseconds);\n    }\n    props.onClick?.(props.value, { e });\n  }\n\n  function handleMouseEnter() {\n    if (props.disabled) return;\n    if (props.time) {\n      const { hours, minutes, seconds, milliseconds, meridiem } = extractTimeObj(props.time);\n      // am pm 12小时制转化 24小时制\n      let nextHours = hours;\n      if (/am/i.test(meridiem) && nextHours === 12) nextHours -= 12;\n      if (/pm/i.test(meridiem) && nextHours < 12) nextHours += 12;\n      props.value.setHours(nextHours);\n      props.value.setMinutes(minutes);\n      props.value.setSeconds(seconds);\n      props.value.setMilliseconds(milliseconds);\n    }\n    props.onMouseEnter?.(props.value);\n  }\n\n  return (\n    <td className={cellClass} onClick={handleClick} onMouseEnter={handleMouseEnter}>\n      <div className={`${classPrefix}-date-picker__cell-inner`}>{props.text}</div>\n    </td>\n  );\n};\n\nDatePickerCell.displayName = 'DatePickerCell';\n\nexport default DatePickerCell;\n"],"names":["DatePickerCell","props","useConfig","classPrefix","cellClass","classNames","now","active","disabled","_defineProperty","highlight","hoverHighlight","startOfRange","endOfRange","hoverStartOfRange","hoverEndOfRange","additional","firstDayOfMonth","lastDayOfMonth","weekOfYear","handleClick","e","time","extractTimeObj","hours","minutes","seconds","milliseconds","meridiem","nextHours","test","value","setHours","setMinutes","setSeconds","setMilliseconds","onClick","handleMouseEnter","onMouseEnter","React","createElement","className","text","displayName"],"mappings":"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"}