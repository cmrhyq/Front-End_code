{"version":3,"file":"config.js","sources":["../../src/message/config.ts"],"sourcesContent":["import { MessageOptions } from './type';\nimport { messageDefaultProps } from './defaultProps';\n\n/**\n * @name: globalConfig\n * @description: message 组件全局的默认配置\n * */\nexport const globalConfig = {\n  top: 32,\n};\n\n// 全局默认配置，zIndex 为 5000，默认关闭时间 3000ms\nlet messageDefaultConfig: MessageOptions = {\n  ...messageDefaultProps,\n  duration: 3000,\n  placement: 'top',\n  zIndex: 5000,\n};\n\n/**\n * @name: getMessageConfig\n * @description: 组合 currentOptions 和 defaultConfig 拼装成最终生效的 options\n * 保证所有的配置出口都通过该函数，当后续封装 globalConfig 时从此处添加即可全局生效\n * @param: options MessageOptions\n * @return: MessageOptions\n * @todo: options 合法性检测\n * */\nexport const getMessageConfig = (options: MessageOptions): MessageOptions => {\n  const currentOptions = { ...options };\n\n  // :todo 判断传入参数的合法性，本期先过滤掉明显非法的数据，比如 undefined\n  for (const i in currentOptions) {\n    if (typeof currentOptions[i] === 'undefined') {\n      delete currentOptions[i];\n    }\n  }\n\n  // duration 判断\n  if (typeof currentOptions.duration !== 'number' || currentOptions.duration < 0) {\n    delete currentOptions.duration;\n  }\n\n  return {\n    ...messageDefaultConfig,\n    ...currentOptions,\n  };\n};\n\n/**\n * @name: setGlobalConfig\n * @description: 设置全局配置\n * */\nexport const setGlobalConfig = (options: MessageOptions) => {\n  messageDefaultConfig = {\n    ...getMessageConfig(options),\n  };\n};\n\n/**\n * @name: getMessageDefaultConfig\n * @description: 获取默认的消息配置，不允许更改\n * @return: MessageOptions\n * */\nexport const getMessageDefaultConfig = (): MessageOptions => ({ ...messageDefaultConfig });\n"],"names":["globalConfig","top","messageDefaultConfig","messageDefaultProps","duration","placement","zIndex","getMessageConfig","options","currentOptions","i","setGlobalConfig","getMessageDefaultConfig"],"mappings":";;;;;;;;;;;;;;;;AAOO,IAAMA,YAAe,GAAA;AAC1BC,EAAAA,GAAK,EAAA,EAAA;AADqB,EAArB;;AAKP,IAAIC,oBAAuC,mCACtCC,wCADsC,CAAA,EAAA,EAAA,EAAA;AAEzCC,EAAAA,QAAU,EAAA,GAF+B;AAGzCC,EAAAA,SAAW,EAAA,KAH8B;AAIzCC,EAAAA,MAAQ,EAAA,GAAA;AAJiC,CAA3C,CAAA,CAAA;;IAeaC,gBAAA,GAAmB,SAAnBA,gBAAmB,CAACC,OAAD,EAA6C;EACrE,IAAAC,cAAA,GAAsBD,aAAAA,CAAAA,EAAAA,EAAAA,OAAtB,CAAA,CAAA;;AAGN,EAAA,KAAA,IAAWE,CAAX,IAAgBD,cAAhB,EAAgC;AAC1B,IAAA,IAAA,OAAOA,cAAe,CAAAC,CAAA,CAAtB,KAA6B,WAA7B,EAA0C;MAC5C,OAAOD,cAAe,CAAAC,CAAA,CAAtB,CAAA;AACF,KAAA;AACF,GAAA;;AAGA,EAAA,IAAI,OAAOD,cAAe,CAAAL,QAAtB,KAAmC,QAAnC,IAA+CK,cAAA,CAAeL,QAAf,GAA0B,CAA7E,EAAgF;IAC9E,OAAOK,cAAe,CAAAL,QAAtB,CAAA;AACF,GAAA;;EAEO,OACFF,aAAAA,CAAAA,aAAAA,CAAAA,EAAAA,EAAAA,oBADE,GAEFO,cAFE,CAAA,CAAA;AAIT,EAnBa;IAyBAE,eAAA,GAAkB,SAAlBA,eAAkB,CAACH,OAAD,EAA6B;AACnCN,EAAAA,oBAAA,GAClBK,aAAAA,CAAAA,EAAAA,EAAAA,iBAAiBC,QADC,CAAA,CAAA;AAGzB,EAJa;AAWAI,IAAAA,uBAA0B,GAAA,SAA1BA,uBAA0B,GAAA;AAAA,EAAA,OAAA,aAAA,CAAA,EAAA,EAA4BV,oBAA5B,CAAA,CAAA;AAAA;;;;;;;"}