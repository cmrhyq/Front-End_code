{"version":3,"file":"AnchorTarget.js","sources":["../../src/anchor/AnchorTarget.tsx"],"sourcesContent":["import React, { FunctionComponent } from 'react';\nimport classNames from 'classnames';\nimport { FileCopyIcon as TdFileCopyIcon } from 'tdesign-icons-react';\nimport Popup from '../popup';\nimport { MessagePlugin } from '../message';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport copyText from '../_util/copyText';\n\nimport { TdAnchorTargetProps } from './type';\nimport { StyledProps } from '../common';\nimport { anchorTargetDefaultProps } from './defaultProps';\n\nexport interface AnchorTargetProps extends TdAnchorTargetProps, StyledProps {}\n\nconst AnchorTarget: FunctionComponent<AnchorTargetProps> = (props) => {\n  const { classPrefix } = useConfig();\n  const { FileCopyIcon } = useGlobalIcon({ FileCopyIcon: TdFileCopyIcon });\n\n  const { id, tag, children, className, style } = props;\n\n  const tagClassName = classNames(`${classPrefix}-anchor__target`, className);\n  const iconClassName = `${classPrefix}-anchor__copy`;\n\n  const handleCopyText = () => {\n    const a = document.createElement('a');\n    a.href = `#${id}`;\n    copyText(a.href);\n    MessagePlugin.success('链接复制成功', 1000);\n  };\n\n  const Content = () => (\n    <>\n      {children}\n      <Popup content=\"复制链接\" placement=\"top\" showArrow>\n        <FileCopyIcon className={iconClassName} onClick={handleCopyText} />\n      </Popup>\n    </>\n  );\n\n  return React.createElement(tag, { id, className: tagClassName, style }, React.createElement(Content));\n};\n\nAnchorTarget.displayName = 'AnchorTarget';\nAnchorTarget.defaultProps = anchorTargetDefaultProps;\n\nexport default AnchorTarget;\n"],"names":["AnchorTarget","props","useConfig","classPrefix","useGlobalIcon","FileCopyIcon","TdFileCopyIcon","id","tag","children","className","style","tagClassName","classNames","iconClassName","handleCopyText","a","document","createElement","href","copyText","MessagePlugin","success","Content","React","Fragment","Popup","content","placement","showArrow","onClick","displayName","defaultProps","anchorTargetDefaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA,IAAMA,YAAA,GAAqD,SAArDA,YAAqD,CAACC,KAAD,EAAW;AAC9D,EAAA,IAAA,UAAA,GAAkBC,0BAAU,EAA5B;MAAEC,WAAF,cAAEA,WAAF,CAAA;;AACN,EAAA,IAAA,cAAA,GAAyBC,+BAAc;AAAEC,IAAAA,YAAA,EAAcC,8BAAAA;AAAhB,IAAvC;MAAQD,YAAR,kBAAQA,YAAR,CAAA;;AAEA,EAAA,IAAQE,EAAR,GAAgDN,KAAhD,CAAQM,EAAR;AAAA,MAAYC,GAAZ,GAAgDP,KAAhD,CAAYO,GAAZ;AAAA,MAAiBC,QAAjB,GAAgDR,KAAhD,CAAiBQ,QAAjB;AAAA,MAA2BC,SAA3B,GAAgDT,KAAhD,CAA2BS,SAA3B;AAAA,MAAsCC,KAAtC,GAAgDV,KAAhD,CAAsCU,KAAtC,CAAA;AAEA,EAAA,IAAMC,YAAe,GAAAC,8BAAA,WAAcV,WAAd,EAAA,iBAAA,CAAA,EAA4CO,SAA5C,CAArB,CAAA;EACA,IAAMI,gBAAmBX,EAAAA,CAAAA,MAAAA,CAAAA,aAAzB,eAAA,CAAA,CAAA;;AAEA,EAAA,IAAMY,iBAAiB,SAAjBA,cAAiB,GAAM;AACrB,IAAA,IAAAC,CAAA,GAAIC,QAAS,CAAAC,aAAT,CAAuB,GAAvB,CAAJ,CAAA;IACNF,CAAA,CAAEG,IAAF,GAAA,GAAA,CAAA,MAAA,CAAaZ,EAAb,CAAA,CAAA;AACAa,IAAAA,yBAAA,CAASJ,EAAEG,IAAX,CAAA,CAAA;AACcE,IAAAA,2BAAA,CAAAC,OAAA,CAAQ,sCAAR,EAAkB,GAAlB,CAAA,CAAA;GAJhB,CAAA;;EAOA,IAAMC,OAAU,GAAA,SAAVA,OAAU,GAAA;AAAA,IAAA,sBAEXC,yBAAA,CAAAN,aAAA,CAAAM,yBAAA,CAAAC,QAAA,EAAA,IAAA,EAAAhB,QAAA,iBACAe,yBAAA,CAAAN,aAAA,CAAAQ,iBAAA,EAAA;AAAMC,MAAAA,OAAQ,EAAA,0BAAd;AAAqBC,MAAAA,SAAU,EAAA,KAA/B;AAAqCC,MAAAA,SAAS,EAAA,IAAA;AAA9C,KAAA,iBACEL,yBAAA,CAAAN,aAAA,CAAAb,YAAA,EAAA;AAAaK,MAAAA,SAAW,EAAAI,aAAxB;AAAuCgB,MAAAA,OAAS,EAAAf,cAAAA;KAAhD,CADF,CADA,CAFW,CAAA;GAAhB,CAAA;;AASA,EAAA,oBAAOS,yBAAM,CAAAN,aAAN,CAAoBV,GAApB,EAAyB;AAAED,IAAAA,EAAI,EAAJA,EAAF;AAAMG,IAAAA,SAAA,EAAWE,YAAjB;AAA+BD,IAAAA,KAAA,EAAAA,KAAAA;AAA/B,GAAzB,eAAiEa,yBAAA,CAAMN,aAAN,CAAoBK,OAApB,CAAjE,CAAP,CAAA;AACF,EA1BA;;AA4BAvB,YAAA,CAAa+B,WAAb,GAA2B,cAA3B,CAAA;AACA/B,YAAA,CAAagC,YAAb,GAA4BC,4CAA5B;;;;"}