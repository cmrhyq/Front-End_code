{"version":3,"file":"checkSubMenuChildExpanded.js","sources":["../../../src/menu/_util/checkSubMenuChildExpanded.ts"],"sourcesContent":["import React from 'react';\nimport { MenuValue } from '../type';\nimport { MenuBlockType } from './type';\n\nexport default function checkSubMenuChildExpanded(\n  children: React.ReactNode,\n  expanded: MenuValue[],\n  value: MenuValue,\n  resultExpanded: MenuValue[] = [],\n) {\n  const childValues = React.Children.map(children, (child: React.ReactElement) => child.props.value);\n  // 直接找到了目标节点\n  const index = childValues.indexOf(value);\n  // 找到对应的子节点\n  const child = children[index];\n  // 如果是 submenu 并且子节点存在\n  if (index > -1 && child?.type?.displayName === MenuBlockType.SubMenu) {\n    return [...resultExpanded, value];\n  }\n  // 否则寻找当前展开的节点是否是祖先节点\n  const expandedIndex = childValues.indexOf(expanded[0]);\n  const expandedChild = children[expandedIndex];\n  if (expandedIndex > -1 && expandedChild?.type?.displayName === MenuBlockType.SubMenu) {\n    return checkSubMenuChildExpanded(expandedChild.props.children, expanded.slice(1), value, [\n      ...resultExpanded,\n      expanded[0],\n    ]);\n  }\n\n  return [value];\n}\n"],"names":["checkSubMenuChildExpanded","children","expanded","value","resultExpanded","childValues","React","Children","map","child","props","index","indexOf","type","displayName","MenuBlockType","SubMenu","expandedIndex","expandedChild","slice"],"mappings":";;;;;;;;;;;;;;;;;;;;AAIA,SAAwBA,yBAAxB,CACEC,QADF,EAEEC,QAFF,EAGEC,KAHF,EAKE;AAAA,EAAA,IAAA,WAAA,EAAA,mBAAA,CAAA;;EAAA,IADAC,cACA,uEAD8B,EAC9B,CAAA;EACM,IAAAC,WAAA,GAAcC,0BAAMC,QAAN,CAAeC,GAAf,CAAmBP,QAAnB,EAA6B,UAACQ,MAAD,EAAA;AAAA,IAAA,OAA+BA,MAAM,CAAAC,KAAND,CAAYN,KAA3C,CAAA;AAAA,GAA7B,CAAd,CAAA;AAEA,EAAA,IAAAQ,KAAA,GAAQN,WAAY,CAAAO,OAAZ,CAAoBT,KAApB,CAAR,CAAA;AAEN,EAAA,IAAMM,QAAQR,QAAS,CAAAU,KAAA,CAAvB,CAAA;;EAEA,IAAIA,QAAQ,CAAM,CAAd,IAAc,CAAAF,KAAA,SAAA,IAAAA,KAAA,WAAA,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,WAAAA,GAAAA,KAAA,CAAOI,IAAP,MAAA,IAAA,IAAA,WAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,WAAA,CAAaC,WAAb,MAA6BC,8BAAcC,OAA7D,EAAsE;IAC7D,OAAIZ,EAAAA,CAAAA,MAAAA,CAAAA,oCAAAA,CAAAA,cAAJ,IAAoBD,KAApB,CAAA,CAAA,CAAA;AACT,GAAA;;EAEA,IAAMc,aAAgB,GAAAZ,WAAA,CAAYO,OAAZ,CAAoBV,QAAA,CAAS,CAAT,CAApB,CAAtB,CAAA;AACA,EAAA,IAAMgB,gBAAgBjB,QAAS,CAAAgB,aAAA,CAA/B,CAAA;;EACA,IAAIA,gBAAgB,CAAM,CAAtB,IAAsB,CAAAC,aAAA,SAAA,IAAAA,aAAA,WAAA,GAAAA,KAAAA,CAAAA,GAAAA,CAAAA,mBAAAA,GAAAA,aAAA,CAAeL,IAAf,MAAA,IAAA,IAAA,mBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,mBAAA,CAAqBC,WAArB,MAAqCC,8BAAcC,OAA7E,EAAsF;IAC7E,OAAAhB,yBAAA,CAA0BkB,cAAcR,KAAd,CAAoBT,QAA9C,EAAwDC,SAASiB,KAAT,CAAe,CAAf,CAAxD,EAA2EhB,KAA3E,EACFC,EAAAA,CAAAA,MAAAA,CAAAA,oCAAAA,CAAAA,cADE,IAELF,QAAS,CAAA,CAAA,CAFJ,CAAA,CAAA,CAAA,CAAA;AAIT,GAAA;;EAEA,OAAO,CAACC,KAAD,CAAP,CAAA;AACF;;;;"}