{"version":3,"file":"Menu.js","sources":["../../src/menu/Menu.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../hooks/useConfig';\nimport { StyledProps } from '../common';\nimport { TdMenuProps } from './type';\nimport forwardRefWithStatics from '../_util/forwardRefWithStatics';\nimport { MenuContext } from './MenuContext';\nimport { DEFAULT_MENU_WIDTH } from './_util/constant';\nimport useMenuContext from './hooks/useMenuContext';\nimport { menuDefaultProps } from './defaultProps';\n\nimport HeadMenu from './HeadMenu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuGroup from './MenuGroup';\n\nexport interface MenuProps extends TdMenuProps, StyledProps {\n  children?: React.ReactNode;\n}\n\nconst Menu = forwardRefWithStatics(\n  (props: MenuProps, ref) => {\n    const { className, width = DEFAULT_MENU_WIDTH, children, theme, logo, operations, style } = props;\n    const { classPrefix } = useConfig();\n    const { value } = useMenuContext({ ...props, children, mode: 'accordion' });\n\n    // 菜单宽度\n    const menuWidthArr = Array.isArray(width) ? width : [width, DEFAULT_MENU_WIDTH[1]];\n\n    const { collapsed } = value;\n\n    return (\n      <MenuContext.Provider value={value}>\n        <div\n          ref={ref}\n          className={classNames(`${classPrefix}-default-menu`, className, {\n            [`${classPrefix}-is-collapsed`]: collapsed,\n            [`${classPrefix}-menu--dark`]: theme === 'dark',\n          })}\n          style={{ width: collapsed ? menuWidthArr[1] : menuWidthArr[0], ...style }}\n        >\n          <div className={`${classPrefix}-default-menu__inner`}>\n            {logo && <div className={`${classPrefix}-menu__logo`}>{logo}</div>}\n            <ul className={classNames(`${classPrefix}-menu`, { [`${classPrefix}-menu--scroll`]: !collapsed })}>\n              {children}\n            </ul>\n            {operations && <div className={`${classPrefix}-menu__operations`}>{operations}</div>}\n          </div>\n        </div>\n      </MenuContext.Provider>\n    );\n  },\n  { HeadMenu, SubMenu, MenuItem, MenuGroup },\n);\n\nMenu.displayName = 'Menu';\nMenu.defaultProps = menuDefaultProps;\n\nexport default Menu;\n"],"names":["Menu","forwardRefWithStatics","props","ref","className","width","DEFAULT_MENU_WIDTH","children","theme","logo","operations","style","useConfig","classPrefix","useMenuContext","mode","value","menuWidthArr","Array","isArray","collapsed","React","createElement","MenuContext","Provider","classNames","HeadMenu","SubMenu","MenuItem","MenuGroup","displayName","defaultProps","menuDefaultProps"],"mappings":"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"}