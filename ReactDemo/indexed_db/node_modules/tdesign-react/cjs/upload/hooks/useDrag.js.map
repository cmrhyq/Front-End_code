{"version":3,"file":"useDrag.js","sources":["../../../src/upload/hooks/useDrag.ts"],"sourcesContent":["import { DragEventHandler, useState, DragEvent } from 'react';\nimport { TdUploadProps } from '../type';\n\nexport interface UploadDragEvents {\n  onDragFileChange?: (e: DragEvent<HTMLDivElement>) => void;\n  onDragenter?: TdUploadProps['onDragenter'];\n  onDragleave?: TdUploadProps['onDragleave'];\n  onDrop?: TdUploadProps['onDrop'];\n}\n\nexport default function useDrag(props: UploadDragEvents) {\n  const [target, setTarget] = useState(null);\n  const [dragActive, setDragActive] = useState(false);\n\n  const handleDrop: DragEventHandler<HTMLDivElement> = (event) => {\n    event.preventDefault();\n    props.onDragFileChange?.(event);\n    props.onDrop?.({ e: event });\n    setDragActive(false);\n  };\n\n  const handleDragenter: DragEventHandler<HTMLDivElement> = (event) => {\n    event.preventDefault();\n    setTarget(event.target);\n    props.onDragenter?.({ e: event });\n    setDragActive(true);\n  };\n\n  const handleDragleave: DragEventHandler<HTMLDivElement> = (event) => {\n    if (event.target !== target) return;\n    event.preventDefault();\n    props.onDragleave?.({ e: event });\n    setDragActive(false);\n  };\n\n  const handleDragover: DragEventHandler<HTMLDivElement> = (event) => {\n    event.preventDefault();\n  };\n\n  return {\n    target,\n    dragActive,\n    handleDrop,\n    handleDragenter,\n    handleDragleave,\n    handleDragover,\n  };\n}\n"],"names":["useDrag","props","useState","_slicedToArray","target","setTarget","dragActive","setDragActive","handleDrop","event","preventDefault","onDragFileChange","onDrop","e","handleDragenter","onDragenter","handleDragleave","onDragleave","handleDragover"],"mappings":";;;;;;;;;;;;;;AAUA,SAAwBA,OAAxB,CAAgCC,KAAhC,EAAyD;EACvD,IAA4BC,SAAAA,GAAAA,eAAS,KAArC;AAAA,MAAA,UAAA,GAAAC,4BAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAA,MAAOC,MAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAeC,SAAf,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;EACA,IAAoCH,UAAAA,GAAAA,eAAS,MAA7C;AAAA,MAAA,UAAA,GAAAC,4BAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAA,MAAOG,UAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAmBC,aAAnB,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;AAEM,EAAA,IAAAC,UAAA,GAA+C,SAA/CA,UAA+C,CAACC,KAAD,EAAW;AAAA,IAAA,IAAA,qBAAA,EAAA,aAAA,CAAA;;AAC9DA,IAAAA,KAAA,CAAMC,cAAN,EAAA,CAAA;AACA,IAAA,CAAA,qBAAA,GAAAT,KAAA,CAAMU,gBAAN,qFAAAV,KAAA,EAAyBQ,KAAzB,CAAA,CAAA;AACA,IAAA,CAAA,aAAA,GAAAR,KAAA,CAAMW,MAAN,MAAA,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,aAAA,CAAA,IAAA,CAAAX,KAAA,EAAe;AAAEY,MAAAA,CAAG,EAAAJ,KAAAA;AAAL,KAAf,CAAA,CAAA;IACAF,aAAA,CAAc,KAAd,CAAA,CAAA;GAJI,CAAA;;AAOA,EAAA,IAAAO,eAAA,GAAoD,SAApDA,eAAoD,CAACL,KAAD,EAAW;AAAA,IAAA,IAAA,kBAAA,CAAA;;AACnEA,IAAAA,KAAA,CAAMC,cAAN,EAAA,CAAA;AACAL,IAAAA,SAAA,CAAUI,MAAML,MAAhB,CAAA,CAAA;AACA,IAAA,CAAA,kBAAA,GAAAH,KAAA,CAAMc,WAAN,MAAA,IAAA,IAAA,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,kBAAA,CAAA,IAAA,CAAAd,KAAA,EAAoB;AAAEY,MAAAA,CAAG,EAAAJ,KAAAA;AAAL,KAApB,CAAA,CAAA;IACAF,aAAA,CAAc,IAAd,CAAA,CAAA;GAJI,CAAA;;AAOA,EAAA,IAAAS,eAAA,GAAoD,SAApDA,eAAoD,CAACP,KAAD,EAAW;AAAA,IAAA,IAAA,kBAAA,CAAA;;AACnE,IAAA,IAAIA,MAAML,MAAN,KAAiBA,MAArB,EAA6B,OAAA;AAC7BK,IAAAA,KAAA,CAAMC,cAAN,EAAA,CAAA;AACA,IAAA,CAAA,kBAAA,GAAAT,KAAA,CAAMgB,WAAN,MAAA,IAAA,IAAA,kBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,kBAAA,CAAA,IAAA,CAAAhB,KAAA,EAAoB;AAAEY,MAAAA,CAAG,EAAAJ,KAAAA;AAAL,KAApB,CAAA,CAAA;IACAF,aAAA,CAAc,KAAd,CAAA,CAAA;GAJI,CAAA;;AAOA,EAAA,IAAAW,cAAA,GAAmD,SAAnDA,cAAmD,CAACT,KAAD,EAAW;AAClEA,IAAAA,KAAA,CAAMC,cAAN,EAAA,CAAA;GADI,CAAA;;EAIC,OAAA;AACLN,IAAAA,MAAA,EAAAA,MADK;AAELE,IAAAA,UAAA,EAAAA,UAFK;AAGLE,IAAAA,UAAA,EAAAA,UAHK;AAILM,IAAAA,eAAA,EAAAA,eAJK;AAKLE,IAAAA,eAAA,EAAAA,eALK;AAMLE,IAAAA,cAAA,EAAAA,cAAAA;GANK,CAAA;AAQT;;;;"}