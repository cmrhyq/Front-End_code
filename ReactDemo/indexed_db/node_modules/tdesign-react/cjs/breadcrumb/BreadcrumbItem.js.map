{"version":3,"file":"BreadcrumbItem.js","sources":["../../src/breadcrumb/BreadcrumbItem.tsx"],"sourcesContent":["import React, { forwardRef, useContext, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { ChevronRightIcon as TdChevronRightIcon } from 'tdesign-icons-react';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport useCommonClassName from '../_util/useCommonClassName';\n\nimport { BreadcrumbItemProps } from './BreadcrumbProps';\nimport { BreadcrumbContext } from './BreadcrumbContext';\nimport { breadcrumbItemDefaultProps } from './defaultProps';\n\nconst BreadcrumbItem = forwardRef<HTMLDivElement, BreadcrumbItemProps>((props, ref) => {\n  const { classPrefix } = useConfig();\n  const commonClassNames = useCommonClassName();\n  const { ChevronRightIcon } = useGlobalIcon({ ChevronRightIcon: TdChevronRightIcon });\n\n  const {\n    children,\n    separator,\n    disabled,\n    maxItemWidth,\n    maxWidth,\n    href,\n    to,\n    target,\n    router,\n    replace,\n    className,\n    ...restProps\n  } = props;\n\n  const { maxItemWidthInContext, separator: separatorInContext } = useContext(BreadcrumbContext);\n\n  const breadcrumbItemClassNames = classNames(`${classPrefix}-breadcrumb__item`);\n  const textWrapperClassName = `${classPrefix}-breadcrumb__inner`;\n  const textClassNames = classNames(`${classPrefix}-breadcrumb--text-overflow`, {\n    [commonClassNames.STATUS.disabled]: disabled,\n  });\n  const separatorClassName = `${classPrefix}-breadcrumb__separator`;\n  const linkClassName = `${classPrefix}-link`;\n\n  const maxWidthForItem = useMemo(\n    () => ({\n      maxWidth: maxWidth || maxItemWidth || maxItemWidthInContext || '120px',\n    }),\n    [maxItemWidth, maxWidth, maxItemWidthInContext],\n  );\n\n  const textContent = (\n    <span className={textWrapperClassName} style={maxWidthForItem}>\n      {children}\n    </span>\n  );\n\n  let itemContent = <span className={textClassNames}>{textContent}</span>;\n  if ((href || to) && !disabled) {\n    const handleRouting = () => {\n      if (href || !router) return;\n\n      replace ? router.replace(to) : router.push(to);\n    };\n    itemContent = (\n      <a className={classNames(textClassNames, linkClassName)} href={href} target={target} onClick={handleRouting}>\n        {textContent}\n      </a>\n    );\n  }\n\n  const separatorInProps = typeof separator === 'function' ? separator() : separator;\n  const separatorContent = separatorInProps || separatorInContext || (\n    <ChevronRightIcon style={{ color: 'rgba(0,0,0,.3)' }} />\n  );\n\n  return (\n    <div className={classNames(breadcrumbItemClassNames, className)} ref={ref} {...restProps}>\n      {itemContent}\n      <span className={separatorClassName}>{separatorContent}</span>\n    </div>\n  );\n});\n\nBreadcrumbItem.displayName = 'BreadcrumbItem';\nBreadcrumbItem.defaultProps = breadcrumbItemDefaultProps;\n\nexport default BreadcrumbItem;\n"],"names":["BreadcrumbItem","forwardRef","props","ref","useConfig","classPrefix","commonClassNames","useCommonClassName","useGlobalIcon","ChevronRightIcon","TdChevronRightIcon","children","separator","disabled","maxItemWidth","maxWidth","href","to","target","router","replace","className","restProps","useContext","BreadcrumbContext","maxItemWidthInContext","separatorInContext","breadcrumbItemClassNames","classNames","textWrapperClassName","textClassNames","_defineProperty","STATUS","separatorClassName","linkClassName","maxWidthForItem","useMemo","textContent","React","createElement","style","itemContent","handleRouting","push","onClick","separatorInProps","separatorContent","color","displayName","defaultProps","breadcrumbItemDefaultProps"],"mappings":"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"}